2023-09-01 00:11:04.732 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 00:11:04.747 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:04.749 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 17.5873ms
2023-09-01 00:11:04.752 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 00:11:04.753 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:04.754 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:11:04.756 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:11:04.771 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 00:11:04.774 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 00:11:04.775 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 00:11:04.775 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 14.7126ms
2023-09-01 00:11:04.777 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:11:04.780 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 28.6110ms
2023-09-01 00:11:04.802 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:11:04.818 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:04.819 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:11:04.820 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 17.8064ms
2023-09-01 00:11:04.823 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:04.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:11:04.830 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 11.3799ms
2023-09-01 00:11:04.831 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:04.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:11:04.833 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:11:04.834 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:04.835 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:11:04.835 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:11:04.837 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:11:04.837 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:11:04.838 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.394ms
2023-09-01 00:11:04.840 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:11:04.840 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:11:04.841 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.8226ms
2023-09-01 00:11:04.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 15.4241ms
2023-09-01 00:11:04.844 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:11:04.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 13.3516ms
2023-09-01 00:11:06.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:11:06.831 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:06.833 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:11:06.837 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:11:06.841 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:11:06.844 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.6681ms
2023-09-01 00:11:06.846 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:11:06.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 18.4317ms
2023-09-01 00:11:18.346 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-09-01 00:11:18.348 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:18.349 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - - - 204 - - 3.1122ms
2023-09-01 00:11:18.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-09-01 00:11:18.352 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:18.353 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-09-01 00:11:18.354 +02:00 [INF] Route matched with {action = "GetExamWithStudentsAndCommittee", controller = "SailingExams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamWithStudentsAndCommittee(System.String) on controller PuntoVitaExams.API.Controllers.SailingExamsController (PuntoVitaExams.API).
2023-09-01 00:11:18.359 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SailingExams] AS [s]
        WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-01 00:11:18.362 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result], [t].[ExaminationCommitteeHeadId], [t].[ExaminationCommitteeSecretaryId], [t].[ExaminationCommitteeHeadFirstName], [t].[ExaminationCommitteeHeadLastName], [t].[ExaminationCommitteeSecretaryFirstName], [t].[ExaminationCommitteeSecretaryLastName], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId], [t1].[ExaminationCommitteeMemberId], [t1].[ExaminationCommitteeMemberFirstName], [t1].[ExaminationCommitteeMemberLastName]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace], [e].[ExaminationCommitteeId] AS [ExaminationCommitteeId0], [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeSecretaryId], [e0].[ExaminationCommitteeHeadId] AS [ExaminationCommitteeHeadId0], [e0].[ExaminationCommitteeHeadFirstName], [e0].[ExaminationCommitteeHeadLastName], [e1].[ExaminationCommitteeSecretaryId] AS [ExaminationCommitteeSecretaryId0], [e1].[ExaminationCommitteeSecretaryFirstName], [e1].[ExaminationCommitteeSecretaryLastName]
    FROM [SailingExams] AS [s]
    LEFT JOIN [ExaminationCommittees] AS [e] ON [s].[ExaminationCommitteeId] = [e].[ExaminationCommitteeId]
    LEFT JOIN [ExaminationCommitteeHeads] AS [e0] ON [e].[ExaminationCommitteeHeadId] = [e0].[ExaminationCommitteeHeadId]
    LEFT JOIN [ExaminationCommitteeSecretaries] AS [e1] ON [e].[ExaminationCommitteeSecretaryId] = [e1].[ExaminationCommitteeSecretaryId]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
LEFT JOIN (
    SELECT [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [e2].[ExaminationCommitteesExaminationCommitteeId], [e3].[ExaminationCommitteeMemberId], [e3].[ExaminationCommitteeMemberFirstName], [e3].[ExaminationCommitteeMemberLastName]
    FROM [ExaminationCommitteeExaminationCommitteeMember] AS [e2]
    INNER JOIN [ExaminationCommitteeMembers] AS [e3] ON [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId] = [e3].[ExaminationCommitteeMemberId]
) AS [t1] ON [t].[ExaminationCommitteeId0] = [t1].[ExaminationCommitteesExaminationCommitteeId]
ORDER BY [t].[SailingExamId], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId]
2023-09-01 00:11:18.366 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.SailingExamDto'.
2023-09-01 00:11:18.367 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API) in 8.9406ms
2023-09-01 00:11:18.368 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-09-01 00:11:18.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - - - 200 1569 application/json;+charset=utf-8 17.4522ms
2023-09-01 00:11:24.545 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:11:24.546 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:24.548 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 2.3283ms
2023-09-01 00:11:24.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:11:24.552 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:11:24.554 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:11:24.554 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:11:24.555 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 4.3909ms
2023-09-01 00:15:59.660 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 00:15:59.666 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:15:59.666 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 6.2037ms
2023-09-01 00:15:59.668 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 00:15:59.668 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:15:59.669 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:15:59.669 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:15:59.672 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 00:15:59.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 00:15:59.677 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 6.1604ms
2023-09-01 00:15:59.677 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:15:59.679 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 11.0752ms
2023-09-01 00:15:59.680 +02:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 00:15:59.726 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:15:59.731 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:15:59.733 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:15:59.734 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:15:59.735 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 8.4345ms
2023-09-01 00:15:59.736 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.5865ms
2023-09-01 00:15:59.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:15:59.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:15:59.740 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:15:59.741 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:15:59.741 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:15:59.742 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:15:59.742 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:15:59.743 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:15:59.744 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:15:59.746 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:15:59.746 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.5031ms
2023-09-01 00:15:59.750 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 3.9876ms
2023-09-01 00:15:59.750 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:15:59.751 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:15:59.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 13.7081ms
2023-09-01 00:15:59.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 14.2473ms
2023-09-01 00:16:39.687 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/125869321/PV-2-22 - -
2023-09-01 00:16:39.688 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:16:39.689 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/125869321/PV-2-22 - - - 204 - - 2.1774ms
2023-09-01 00:16:39.690 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/125869321/PV-2-22 application 0
2023-09-01 00:16:39.691 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:16:39.693 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:16:39.694 +02:00 [INF] Route matched with {action = "AddStudentToExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddStudentToExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 00:16:39.705 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 00:16:39.708 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace]
    FROM [SailingExams] AS [s]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
ORDER BY [t].[SailingExamId], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-09-01 00:16:39.713 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExamStudent] ([SailingExamsSailingExamId], [StudentsStudentId])
VALUES (@p0, @p1);
2023-09-01 00:16:39.715 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:16:39.716 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API) in 20.2799ms
2023-09-01 00:16:39.718 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:16:39.719 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/125869321/PV-2-22 application 0 - 200 46 application/json;+charset=utf-8 28.1838ms
2023-09-01 00:19:07.365 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 00:19:07.372 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:19:07.374 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 8.4558ms
2023-09-01 00:19:07.377 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 00:19:07.378 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:19:07.379 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:19:07.379 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:19:07.383 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 00:19:07.386 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 00:19:07.387 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 6.323ms
2023-09-01 00:19:07.388 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:19:07.389 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 878 application/json;+charset=utf-8 11.4023ms
2023-09-01 00:19:07.389 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 00:19:07.450 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:19:07.453 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:19:07.460 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:19:07.460 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:19:07.461 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 10.7004ms
2023-09-01 00:19:07.462 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 10.6683ms
2023-09-01 00:19:07.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:19:07.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:19:07.465 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:19:07.466 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:19:07.467 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:19:07.468 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:19:07.470 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:19:07.471 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:19:07.472 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:19:07.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:19:07.474 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.2286ms
2023-09-01 00:19:07.475 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.6426ms
2023-09-01 00:19:07.475 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:19:07.476 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:19:07.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 13.2812ms
2023-09-01 00:19:07.478 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 13.6998ms
2023-09-01 00:19:30.376 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/856931467/Pv-2-22 - -
2023-09-01 00:19:30.380 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:19:30.381 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/856931467/Pv-2-22 - - - 204 - - 4.9148ms
2023-09-01 00:19:30.385 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/856931467/Pv-2-22 application 0
2023-09-01 00:19:30.386 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:19:30.387 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:19:30.387 +02:00 [INF] Route matched with {action = "AddStudentToExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddStudentToExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 00:19:30.398 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 00:19:30.400 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace]
    FROM [SailingExams] AS [s]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
ORDER BY [t].[SailingExamId], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-09-01 00:19:30.411 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExamStudent] ([SailingExamsSailingExamId], [StudentsStudentId])
VALUES (@p0, @p1);
2023-09-01 00:19:30.414 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:19:30.415 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API) in 27.0446ms
2023-09-01 00:19:30.417 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:19:30.417 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/856931467/Pv-2-22 application 0 - 200 48 application/json;+charset=utf-8 31.9748ms
2023-09-01 00:22:48.675 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 00:22:48.684 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:22:48.686 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 11.2021ms
2023-09-01 00:22:48.688 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 00:22:48.689 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:22:48.690 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:22:48.691 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:22:48.693 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 00:22:48.696 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 00:22:48.696 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 00:22:48.697 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 5.2121ms
2023-09-01 00:22:48.699 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:22:48.700 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 11.7392ms
2023-09-01 00:22:48.721 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:22:48.722 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:22:48.727 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:22:48.728 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 7.0403ms
2023-09-01 00:22:48.730 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:22:48.732 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.2232ms
2023-09-01 00:22:48.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:22:48.735 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:22:48.736 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:22:48.738 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:22:48.739 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:22:48.741 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:22:48.743 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:22:48.744 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:22:48.746 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:22:48.748 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:22:48.749 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 3.0502ms
2023-09-01 00:22:48.751 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.6759ms
2023-09-01 00:22:48.754 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:22:48.754 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:22:48.755 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 23.2685ms
2023-09-01 00:22:48.757 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 21.4485ms
2023-09-01 00:23:20.917 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/123654789/PV-2-22 - -
2023-09-01 00:23:20.924 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:23:20.925 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/123654789/PV-2-22 - - - 204 - - 7.2946ms
2023-09-01 00:23:20.926 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/123654789/PV-2-22 application 0
2023-09-01 00:23:20.926 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:23:20.927 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:23:20.929 +02:00 [INF] Route matched with {action = "AddStudentToExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddStudentToExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 00:23:20.934 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 00:23:20.936 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace]
    FROM [SailingExams] AS [s]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
ORDER BY [t].[SailingExamId], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-09-01 00:23:20.939 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExamStudent] ([SailingExamsSailingExamId], [StudentsStudentId])
VALUES (@p0, @p1);
2023-09-01 00:23:20.941 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:23:20.942 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API) in 9.6267ms
2023-09-01 00:23:20.942 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:23:20.943 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/123654789/PV-2-22 application 0 - 200 42 application/json;+charset=utf-8 17.4368ms
2023-09-01 00:25:58.210 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/235416952/PV-2-22 - -
2023-09-01 00:25:58.214 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:25:58.218 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/235416952/PV-2-22 - - - 204 - - 8.1278ms
2023-09-01 00:25:58.219 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/235416952/PV-2-22 application 0
2023-09-01 00:25:58.221 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:25:58.221 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-01 00:25:58.222 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 00:25:58.223 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/235416952/PV-2-22 application 0 - 401 0 - 3.3802ms
2023-09-01 00:25:58.981 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/235416952/PV-2-22 application 0
2023-09-01 00:25:58.982 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:25:58.984 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-01 00:25:58.985 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 00:25:58.987 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/235416952/PV-2-22 application 0 - 401 0 - 6.0805ms
2023-09-01 00:26:01.764 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/235416952/PV-2-22 application 0
2023-09-01 00:26:01.766 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:01.767 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-01 00:26:01.770 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 00:26:01.771 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/235416952/PV-2-22 application 0 - 401 0 - 6.8591ms
2023-09-01 00:26:04.994 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 00:26:04.997 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:04.998 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 3.7952ms
2023-09-01 00:26:04.999 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 00:26:05.000 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:05.000 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:26:05.001 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:26:05.004 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 00:26:05.007 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 00:26:05.008 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 5.691ms
2023-09-01 00:26:05.009 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:26:05.011 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 11.6963ms
2023-09-01 00:26:05.012 +02:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 00:26:05.029 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:26:05.082 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:26:05.082 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:05.083 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:05.084 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 55.1454ms
2023-09-01 00:26:05.086 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:26:05.085 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 3.5714ms
2023-09-01 00:26:05.094 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:26:05.098 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:05.099 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:05.100 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:26:05.101 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:26:05.104 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:26:05.110 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:26:05.112 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:26:05.113 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:26:05.114 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.1027ms
2023-09-01 00:26:05.114 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.5165ms
2023-09-01 00:26:05.115 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:26:05.116 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:26:05.117 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 31.1385ms
2023-09-01 00:26:05.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 23.8048ms
2023-09-01 00:26:19.705 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/235416952/PV-2-22 - -
2023-09-01 00:26:19.706 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:19.707 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/235416952/PV-2-22 - - - 204 - - 2.8412ms
2023-09-01 00:26:19.709 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/235416952/PV-2-22 application 0
2023-09-01 00:26:19.711 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:26:19.712 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:26:19.716 +02:00 [INF] Route matched with {action = "AddStudentToExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddStudentToExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 00:26:19.728 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 00:26:19.730 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace]
    FROM [SailingExams] AS [s]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
ORDER BY [t].[SailingExamId], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-09-01 00:26:19.741 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExamStudent] ([SailingExamsSailingExamId], [StudentsStudentId])
VALUES (@p0, @p1);
2023-09-01 00:26:19.743 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:26:19.744 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API) in 24.1899ms
2023-09-01 00:26:19.745 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:26:19.746 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/235416952/PV-2-22 application 0 - 200 46 application/json;+charset=utf-8 36.6203ms
2023-09-01 00:28:35.479 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 00:28:35.484 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:35.486 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 7.0709ms
2023-09-01 00:28:35.491 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 00:28:35.493 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:35.493 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:28:35.494 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:28:35.497 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 00:28:35.500 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 00:28:35.500 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 00:28:35.502 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 6.2318ms
2023-09-01 00:28:35.510 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:28:35.512 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 20.3620ms
2023-09-01 00:28:35.523 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:28:35.524 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:28:35.537 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:35.536 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:35.539 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 14.9406ms
2023-09-01 00:28:35.541 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 18.3455ms
2023-09-01 00:28:35.545 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:28:35.545 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:28:35.546 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:35.547 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:35.549 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:28:35.550 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:28:35.551 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:28:35.552 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:28:35.554 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:28:35.556 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:28:35.557 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.8312ms
2023-09-01 00:28:35.558 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.2846ms
2023-09-01 00:28:35.559 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:28:35.561 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:28:35.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 16.9075ms
2023-09-01 00:28:35.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 17.4369ms
2023-09-01 00:28:36.656 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:28:36.657 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:36.658 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:28:36.659 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:28:36.661 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:28:36.662 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.2817ms
2023-09-01 00:28:36.663 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:28:36.664 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 8.3982ms
2023-09-01 00:28:46.988 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-09-01 00:28:46.991 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:46.993 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - - - 204 - - 4.8912ms
2023-09-01 00:28:46.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-09-01 00:28:46.995 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:46.996 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-09-01 00:28:46.996 +02:00 [INF] Route matched with {action = "GetExamWithStudentsAndCommittee", controller = "SailingExams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamWithStudentsAndCommittee(System.String) on controller PuntoVitaExams.API.Controllers.SailingExamsController (PuntoVitaExams.API).
2023-09-01 00:28:47.002 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SailingExams] AS [s]
        WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-01 00:28:47.007 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result], [t].[ExaminationCommitteeHeadId], [t].[ExaminationCommitteeSecretaryId], [t].[ExaminationCommitteeHeadFirstName], [t].[ExaminationCommitteeHeadLastName], [t].[ExaminationCommitteeSecretaryFirstName], [t].[ExaminationCommitteeSecretaryLastName], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId], [t1].[ExaminationCommitteeMemberId], [t1].[ExaminationCommitteeMemberFirstName], [t1].[ExaminationCommitteeMemberLastName]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace], [e].[ExaminationCommitteeId] AS [ExaminationCommitteeId0], [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeSecretaryId], [e0].[ExaminationCommitteeHeadId] AS [ExaminationCommitteeHeadId0], [e0].[ExaminationCommitteeHeadFirstName], [e0].[ExaminationCommitteeHeadLastName], [e1].[ExaminationCommitteeSecretaryId] AS [ExaminationCommitteeSecretaryId0], [e1].[ExaminationCommitteeSecretaryFirstName], [e1].[ExaminationCommitteeSecretaryLastName]
    FROM [SailingExams] AS [s]
    LEFT JOIN [ExaminationCommittees] AS [e] ON [s].[ExaminationCommitteeId] = [e].[ExaminationCommitteeId]
    LEFT JOIN [ExaminationCommitteeHeads] AS [e0] ON [e].[ExaminationCommitteeHeadId] = [e0].[ExaminationCommitteeHeadId]
    LEFT JOIN [ExaminationCommitteeSecretaries] AS [e1] ON [e].[ExaminationCommitteeSecretaryId] = [e1].[ExaminationCommitteeSecretaryId]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
LEFT JOIN (
    SELECT [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [e2].[ExaminationCommitteesExaminationCommitteeId], [e3].[ExaminationCommitteeMemberId], [e3].[ExaminationCommitteeMemberFirstName], [e3].[ExaminationCommitteeMemberLastName]
    FROM [ExaminationCommitteeExaminationCommitteeMember] AS [e2]
    INNER JOIN [ExaminationCommitteeMembers] AS [e3] ON [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId] = [e3].[ExaminationCommitteeMemberId]
) AS [t1] ON [t].[ExaminationCommitteeId0] = [t1].[ExaminationCommitteesExaminationCommitteeId]
ORDER BY [t].[SailingExamId], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId]
2023-09-01 00:28:47.021 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.SailingExamDto'.
2023-09-01 00:28:47.024 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API) in 24.9214ms
2023-09-01 00:28:47.026 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-09-01 00:28:47.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - - - 200 2067 application/json;+charset=utf-8 32.1110ms
2023-09-01 00:28:57.951 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:28:57.956 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:57.957 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 5.3886ms
2023-09-01 00:28:57.958 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:28:57.959 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:28:57.960 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:28:57.962 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:28:57.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 4.0391ms
2023-09-01 00:29:05.531 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:05.533 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:05.535 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 3.2406ms
2023-09-01 00:29:05.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:05.537 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:05.539 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:05.540 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:05.542 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 5.6449ms
2023-09-01 00:29:16.124 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:16.128 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:16.131 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 6.8311ms
2023-09-01 00:29:16.132 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:16.134 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:16.134 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:16.135 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:16.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 3.3597ms
2023-09-01 00:29:20.133 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:20.136 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:20.139 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:20.140 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:20.142 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 9.0129ms
2023-09-01 00:29:25.193 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:25.194 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:25.197 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 4.5656ms
2023-09-01 00:29:25.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:25.201 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:25.202 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:25.203 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:25.203 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 3.4056ms
2023-09-01 00:29:29.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:29.072 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:29.073 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:29.078 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:29.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 9.8827ms
2023-09-01 00:29:31.206 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:31.208 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:31.209 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 3.2585ms
2023-09-01 00:29:31.211 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:31.213 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:31.214 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:31.215 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:31.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 7.3290ms
2023-09-01 00:29:34.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:34.538 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:34.543 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:34.545 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:34.546 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 9.4406ms
2023-09-01 00:29:37.157 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:37.161 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:37.163 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 5.8614ms
2023-09-01 00:29:37.164 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:37.165 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:37.166 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:37.166 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:37.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 2.6952ms
2023-09-01 00:29:40.509 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 00:29:40.513 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:29:40.515 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:40.515 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 00:29:40.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 7.5313ms
2023-09-01 00:30:26.148 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 00:30:26.158 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:30:26.161 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 204 - - 13.0209ms
2023-09-01 00:30:26.165 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 00:30:26.165 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:30:26.166 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 00:30:26.169 +02:00 [INF] Route matched with {action = "GetStudentsWhoPassedTheExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetStudentsWhoPassedTheExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 00:30:26.199 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__examResult_0='?' (Size = 4000), @__examNumber_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[City], [s].[FirstName], [s].[FlatNumber], [s].[LastName], [s].[Pesel], [s].[PostalCode], [s].[Result], [s].[SailingExamNumber], [s].[Street], [s].[StreetNumber]
FROM [StudentsWhoPassedTheExam] AS [s]
WHERE [s].[Result] = @__examResult_0 AND [s].[SailingExamNumber] = @__examNumber_1
2023-09-01 00:30:26.221 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.StudentsWhoPassedTheExamDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-01 00:30:26.231 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API) in 60.6155ms
2023-09-01 00:30:26.235 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 00:30:26.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 200 419 application/json;+charset=utf-8 72.8854ms
2023-09-01 00:30:58.554 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/235416952 - -
2023-09-01 00:30:58.556 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:30:58.558 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/235416952 - - - 204 - - 3.8014ms
2023-09-01 00:30:58.559 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/235416952 - -
2023-09-01 00:30:58.560 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:30:58.560 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentWithAddrressAndExams (PuntoVitaExams.API)'
2023-09-01 00:30:58.563 +02:00 [INF] Route matched with {action = "GetStudentWithAddrressAndExams", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentWithAddrressAndExams(System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 00:30:58.575 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Students] AS [s]
        WHERE [s].[Pesel] = @__pesel_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-01 00:30:58.611 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[StudentId], [t].[AddressId], [t].[FirstName], [t].[LastName], [t].[Pesel], [t].[Result], [t].[AddressId0], [t].[City], [t].[FlatNumber], [t].[PostalCode], [t].[Street], [t].[StreetNumber], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[SailingExamId], [t0].[ExaminationCommitteeId], [t0].[SailingExamDate], [t0].[SailingExamNumber], [t0].[SailingExamPlace]
FROM (
    SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result], [a].[AddressId] AS [AddressId0], [a].[City], [a].[FlatNumber], [a].[PostalCode], [a].[Street], [a].[StreetNumber]
    FROM [Students] AS [s]
    LEFT JOIN [Addressess] AS [a] ON [s].[AddressId] = [a].[AddressId]
    WHERE [s].[Pesel] = @__pesel_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[SailingExamId], [s1].[ExaminationCommitteeId], [s1].[SailingExamDate], [s1].[SailingExamNumber], [s1].[SailingExamPlace]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [SailingExams] AS [s1] ON [s0].[SailingExamsSailingExamId] = [s1].[SailingExamId]
) AS [t0] ON [t].[StudentId] = [t0].[StudentsStudentId]
ORDER BY [t].[StudentId], [t].[AddressId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-09-01 00:30:58.644 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.StudentDto'.
2023-09-01 00:30:58.649 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.GetStudentWithAddrressAndExams (PuntoVitaExams.API) in 83.1173ms
2023-09-01 00:30:58.651 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentWithAddrressAndExams (PuntoVitaExams.API)'
2023-09-01 00:30:58.654 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/235416952 - - - 200 360 application/json;+charset=utf-8 94.6941ms
2023-09-01 00:31:41.197 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:31:41.197 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:31:41.208 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:31:41.209 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:31:41.210 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 13.2377ms
2023-09-01 00:31:41.211 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 14.4089ms
2023-09-01 00:31:41.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:31:41.213 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:31:41.218 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:31:41.218 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:31:41.219 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:31:41.219 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:31:41.220 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:31:41.221 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:31:41.223 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:31:41.224 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:31:41.225 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.4024ms
2023-09-01 00:31:41.228 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 4.0392ms
2023-09-01 00:31:41.229 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:31:41.229 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:31:41.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 17.8147ms
2023-09-01 00:31:41.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 17.4071ms
2023-09-01 00:31:43.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:31:43.382 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:31:43.383 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:31:43.384 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:31:43.385 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:31:43.386 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.1106ms
2023-09-01 00:31:43.388 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:31:43.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 10.9914ms
2023-09-01 00:31:48.400 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/ - -
2023-09-01 00:31:48.402 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:31:48.405 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/ - - - 204 - - 5.5357ms
2023-09-01 00:31:48.415 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/ - -
2023-09-01 00:31:48.416 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:31:48.416 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHeads (PuntoVitaExams.API)'
2023-09-01 00:31:48.420 +02:00 [INF] Route matched with {action = "GetExaminationCommitteeHeads", controller = "ExaminationCommitteeHeads"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PuntoVitaExams.API.Models.ExaminationCommitteeHeadDto]]] GetExaminationCommitteeHeads() on controller PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController (PuntoVitaExams.API).
2023-09-01 00:31:48.440 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeHeadFirstName], [e].[ExaminationCommitteeHeadLastName]
FROM [ExaminationCommitteeHeads] AS [e]
ORDER BY [e].[ExaminationCommitteeHeadLastName]
2023-09-01 00:31:48.451 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.ExaminationCommitteeHeadDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-01 00:31:48.455 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHeads (PuntoVitaExams.API) in 32.9962ms
2023-09-01 00:31:48.457 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHeads (PuntoVitaExams.API)'
2023-09-01 00:31:48.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/ - - - 200 478 application/json;+charset=utf-8 43.5624ms
2023-09-01 00:32:07.072 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeSecretary/ - -
2023-09-01 00:32:07.073 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:32:07.075 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeSecretary/ - - - 204 - - 3.6576ms
2023-09-01 00:32:07.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/examinationCommitteeSecretary/ - -
2023-09-01 00:32:07.085 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:32:07.087 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeSecretariesController.GetExaminationCommitteeSecretaries (PuntoVitaExams.API)'
2023-09-01 00:32:07.095 +02:00 [INF] Route matched with {action = "GetExaminationCommitteeSecretaries", controller = "ExaminationCommitteeSecretaries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PuntoVitaExams.API.Models.ExaminationCommitteeSecretaryDto]]] GetExaminationCommitteeSecretaries() on controller PuntoVitaExams.API.Controllers.ExaminationCommitteeSecretariesController (PuntoVitaExams.API).
2023-09-01 00:32:07.114 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExaminationCommitteeSecretaryId], [e].[ExaminationCommitteeSecretaryFirstName], [e].[ExaminationCommitteeSecretaryLastName]
FROM [ExaminationCommitteeSecretaries] AS [e]
ORDER BY [e].[ExaminationCommitteeSecretaryLastName]
2023-09-01 00:32:07.123 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.ExaminationCommitteeSecretaryDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-01 00:32:07.127 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.ExaminationCommitteeSecretariesController.GetExaminationCommitteeSecretaries (PuntoVitaExams.API) in 26.4992ms
2023-09-01 00:32:07.133 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeSecretariesController.GetExaminationCommitteeSecretaries (PuntoVitaExams.API)'
2023-09-01 00:32:07.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/examinationCommitteeSecretary/ - - - 200 418 application/json;+charset=utf-8 50.5819ms
2023-09-01 00:32:16.189 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeMember/ - -
2023-09-01 00:32:16.190 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:32:16.192 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeMember/ - - - 204 - - 3.1390ms
2023-09-01 00:32:16.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/examinationCommitteeMember/ - -
2023-09-01 00:32:16.196 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:32:16.198 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeMembersController.GetExaminationCommitteeMembers (PuntoVitaExams.API)'
2023-09-01 00:32:16.204 +02:00 [INF] Route matched with {action = "GetExaminationCommitteeMembers", controller = "ExaminationCommitteeMembers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PuntoVitaExams.API.Models.ExaminationCommitteeMemberDto]]] GetExaminationCommitteeMembers() on controller PuntoVitaExams.API.Controllers.ExaminationCommitteeMembersController (PuntoVitaExams.API).
2023-09-01 00:32:16.217 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExaminationCommitteeMemberId], [e].[ExaminationCommitteeMemberFirstName], [e].[ExaminationCommitteeMemberLastName]
FROM [ExaminationCommitteeMembers] AS [e]
ORDER BY [e].[ExaminationCommitteeMemberLastName]
2023-09-01 00:32:16.221 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.ExaminationCommitteeMemberDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-01 00:32:16.222 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.ExaminationCommitteeMembersController.GetExaminationCommitteeMembers (PuntoVitaExams.API) in 13.9707ms
2023-09-01 00:32:16.223 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeMembersController.GetExaminationCommitteeMembers (PuntoVitaExams.API)'
2023-09-01 00:32:16.224 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/examinationCommitteeMember/ - - - 200 295 application/json;+charset=utf-8 29.1252ms
2023-09-01 00:32:34.483 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/examinationCommittee/12 - -
2023-09-01 00:32:34.485 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:32:34.486 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/examinationCommittee/12 - - - 204 - - 3.3193ms
2023-09-01 00:32:34.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/examinationCommittee/12 - -
2023-09-01 00:32:34.489 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:32:34.489 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteesController.GetExaminationCommittee (PuntoVitaExams.API)'
2023-09-01 00:32:34.496 +02:00 [INF] Route matched with {action = "GetExaminationCommittee", controller = "ExaminationCommittees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PuntoVitaExams.API.Models.ExaminationCommitteeDto]] GetExaminationCommittee(Int32) on controller PuntoVitaExams.API.Controllers.ExaminationCommitteesController (PuntoVitaExams.API).
2023-09-01 00:32:34.533 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2023-09-01 00:32:34.562 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__examinationCommiteeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ExaminationCommitteeId], [t].[ExaminationCommitteeHeadId], [t].[ExaminationCommitteeSecretaryId], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeHeadFirstName], [t].[ExaminationCommitteeHeadLastName], [t].[ExaminationCommitteeSecretaryId0], [t].[ExaminationCommitteeSecretaryFirstName], [t].[ExaminationCommitteeSecretaryLastName], [t0].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t0].[ExaminationCommitteesExaminationCommitteeId], [t0].[ExaminationCommitteeMemberId], [t0].[ExaminationCommitteeMemberFirstName], [t0].[ExaminationCommitteeMemberLastName], [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace]
FROM (
    SELECT TOP(1) [e].[ExaminationCommitteeId], [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeSecretaryId], [e0].[ExaminationCommitteeHeadId] AS [ExaminationCommitteeHeadId0], [e0].[ExaminationCommitteeHeadFirstName], [e0].[ExaminationCommitteeHeadLastName], [e1].[ExaminationCommitteeSecretaryId] AS [ExaminationCommitteeSecretaryId0], [e1].[ExaminationCommitteeSecretaryFirstName], [e1].[ExaminationCommitteeSecretaryLastName]
    FROM [ExaminationCommittees] AS [e]
    LEFT JOIN [ExaminationCommitteeHeads] AS [e0] ON [e].[ExaminationCommitteeHeadId] = [e0].[ExaminationCommitteeHeadId]
    LEFT JOIN [ExaminationCommitteeSecretaries] AS [e1] ON [e].[ExaminationCommitteeSecretaryId] = [e1].[ExaminationCommitteeSecretaryId]
    WHERE [e].[ExaminationCommitteeId] = @__examinationCommiteeId_0
) AS [t]
LEFT JOIN (
    SELECT [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [e2].[ExaminationCommitteesExaminationCommitteeId], [e3].[ExaminationCommitteeMemberId], [e3].[ExaminationCommitteeMemberFirstName], [e3].[ExaminationCommitteeMemberLastName]
    FROM [ExaminationCommitteeExaminationCommitteeMember] AS [e2]
    INNER JOIN [ExaminationCommitteeMembers] AS [e3] ON [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId] = [e3].[ExaminationCommitteeMemberId]
) AS [t0] ON [t].[ExaminationCommitteeId] = [t0].[ExaminationCommitteesExaminationCommitteeId]
LEFT JOIN [SailingExams] AS [s] ON [t].[ExaminationCommitteeId] = [s].[ExaminationCommitteeId]
ORDER BY [t].[ExaminationCommitteeId], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t0].[ExaminationCommitteesExaminationCommitteeId], [t0].[ExaminationCommitteeMemberId]
2023-09-01 00:32:34.578 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.ExaminationCommitteeDto'.
2023-09-01 00:32:34.580 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.ExaminationCommitteesController.GetExaminationCommittee (PuntoVitaExams.API) in 79.3846ms
2023-09-01 00:32:34.583 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteesController.GetExaminationCommittee (PuntoVitaExams.API)'
2023-09-01 00:32:34.585 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/examinationCommittee/12 - - - 200 1223 application/json;+charset=utf-8 97.2943ms
2023-09-01 00:45:15.052 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:45:15.052 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:45:15.054 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:45:15.055 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:45:15.060 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 8.2115ms
2023-09-01 00:45:15.061 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 9.3378ms
2023-09-01 00:45:15.073 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:45:15.076 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:45:15.078 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:45:15.080 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:45:15.083 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 22:29:35', Current time: '31.08.2023 22:45:15'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 00:45:15.084 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 22:29:35', Current time: '31.08.2023 22:45:15'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 00:45:15.087 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 22:29:35', Current time: '31.08.2023 22:45:15'.
2023-09-01 00:45:15.089 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 22:29:35', Current time: '31.08.2023 22:45:15'.
2023-09-01 00:45:15.089 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-01 00:45:15.090 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-01 00:45:15.090 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 00:45:15.091 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 00:45:15.092 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 401 0 - 21.9091ms
2023-09-01 00:45:15.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 401 0 - 18.2633ms
2023-09-01 00:45:17.505 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 00:45:17.507 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:45:17.508 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 2.9870ms
2023-09-01 00:45:17.510 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 00:45:17.512 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:45:17.514 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 22:29:35', Current time: '31.08.2023 22:45:17'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 00:45:17.521 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 22:29:35', Current time: '31.08.2023 22:45:17'.
2023-09-01 00:45:17.522 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:45:17.523 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:45:17.532 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 00:45:17.535 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 00:45:17.535 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 00:45:17.536 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 12.4175ms
2023-09-01 00:45:17.538 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:45:17.539 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 28.9699ms
2023-09-01 00:45:17.552 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:45:17.568 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:45:17.568 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:45:17.570 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:45:17.573 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:45:17.574 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:45:17.575 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:45:17.575 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:45:17.577 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:45:17.578 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:45:17.578 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.996ms
2023-09-01 00:45:17.579 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.5178ms
2023-09-01 00:45:17.585 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:45:17.586 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:45:17.587 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 35.1605ms
2023-09-01 00:45:17.588 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 20.3204ms
2023-09-01 00:51:04.808 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 00:51:04.819 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:51:04.821 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 13.5420ms
2023-09-01 00:51:04.825 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 00:51:04.825 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:51:04.826 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:51:04.826 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:51:04.838 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 00:51:04.841 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 00:51:04.842 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 14.3326ms
2023-09-01 00:51:04.843 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 00:51:04.844 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 19.2273ms
2023-09-01 00:51:04.845 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 00:51:04.901 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 00:51:04.902 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:51:04.910 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:51:04.911 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:51:04.913 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 11.8404ms
2023-09-01 00:51:04.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 00:51:04.921 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 00:51:04.913 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 11.7084ms
2023-09-01 00:51:04.923 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:51:04.924 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:51:04.926 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:51:04.927 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:51:04.929 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:51:04.930 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 00:51:04.931 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:51:04.933 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:51:04.934 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.8949ms
2023-09-01 00:51:04.935 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.5818ms
2023-09-01 00:51:04.935 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 00:51:04.936 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 00:51:04.937 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 21.3948ms
2023-09-01 00:51:04.937 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 16.3029ms
2023-09-01 00:52:10.295 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students - -
2023-09-01 00:52:10.305 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:52:10.308 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students - - - 204 - - 13.4703ms
2023-09-01 00:52:10.311 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students application/json 302
2023-09-01 00:52:10.313 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:52:10.316 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API)'
2023-09-01 00:52:10.323 +02:00 [INF] Route matched with {action = "CreateStudentWithAddressTogether", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PuntoVitaExams.API.Models.StudentForCreationDto]] CreateStudentWithAddressTogether(PuntoVitaExams.API.Models.StudentForCreationDto) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 00:52:10.563 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addressess] ([City], [FlatNumber], [PostalCode], [Street], [StreetNumber])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-09-01 00:52:10.602 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([AddressId], [FirstName], [LastName], [Pesel], [Result])
OUTPUT INSERTED.[StudentId]
VALUES (@p5, @p6, @p7, @p8, @p9);
2023-09-01 00:52:10.658 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'PuntoVitaExams.API.Models.StudentForCreationDto'.
2023-09-01 00:52:10.705 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API) in 375.7563ms
2023-09-01 00:52:10.708 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API)'
2023-09-01 00:52:10.710 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students application/json 302 - 201 183 application/json;+charset=utf-8 399.2234ms
2023-09-01 00:52:57.434 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/251367421/PV-2-22 - -
2023-09-01 00:52:57.436 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:52:57.439 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/251367421/PV-2-22 - - - 204 - - 5.5360ms
2023-09-01 00:52:57.441 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/251367421/PV-2-22 application 0
2023-09-01 00:52:57.443 +02:00 [INF] CORS policy execution successful.
2023-09-01 00:52:57.445 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:52:57.446 +02:00 [INF] Route matched with {action = "AddStudentToExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddStudentToExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 00:52:57.449 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 00:52:57.455 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace]
    FROM [SailingExams] AS [s]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
ORDER BY [t].[SailingExamId], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-09-01 00:52:57.468 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExamStudent] ([SailingExamsSailingExamId], [StudentsStudentId])
VALUES (@p0, @p1);
2023-09-01 00:52:57.470 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 00:52:57.471 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API) in 23.9529ms
2023-09-01 00:52:57.472 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 00:52:57.473 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/251367421/PV-2-22 application 0 - 200 52 application/json;+charset=utf-8 31.9005ms
2023-09-01 01:00:58.546 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:00:58.556 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:00:58.558 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 11.2000ms
2023-09-01 01:00:58.560 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:00:58.561 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:00:58.562 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:00:58.563 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:00:58.576 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:00:58.580 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:00:58.581 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 15.9671ms
2023-09-01 01:00:58.582 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:00:58.583 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 23.2506ms
2023-09-01 01:00:58.587 +02:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:00:58.648 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:00:58.648 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:00:58.649 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:00:58.650 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:00:58.650 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 2.2130ms
2023-09-01 01:00:58.652 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 3.2925ms
2023-09-01 01:00:58.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:00:58.658 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:00:58.669 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:00:58.669 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:00:58.670 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:00:58.671 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:00:58.671 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:00:58.672 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:00:58.673 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:00:58.674 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:00:58.675 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.9036ms
2023-09-01 01:00:58.676 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.8673ms
2023-09-01 01:00:58.677 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:00:58.678 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:00:58.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 26.1934ms
2023-09-01 01:00:58.679 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 20.7995ms
2023-09-01 01:02:03.659 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students - -
2023-09-01 01:02:03.670 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:02:03.673 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students - - - 204 - - 14.0129ms
2023-09-01 01:02:03.674 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students application/json 291
2023-09-01 01:02:03.674 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:02:03.675 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API)'
2023-09-01 01:02:03.676 +02:00 [INF] Route matched with {action = "CreateStudentWithAddressTogether", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PuntoVitaExams.API.Models.StudentForCreationDto]] CreateStudentWithAddressTogether(PuntoVitaExams.API.Models.StudentForCreationDto) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:02:03.688 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addressess] ([City], [FlatNumber], [PostalCode], [Street], [StreetNumber])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-09-01 01:02:03.691 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([AddressId], [FirstName], [LastName], [Pesel], [Result])
OUTPUT INSERTED.[StudentId]
VALUES (@p5, @p6, @p7, @p8, @p9);
2023-09-01 01:02:03.701 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'PuntoVitaExams.API.Models.StudentForCreationDto'.
2023-09-01 01:02:03.702 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API) in 24.9542ms
2023-09-01 01:02:03.703 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API)'
2023-09-01 01:02:03.704 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students application/json 291 - 201 172 application/json;+charset=utf-8 29.9608ms
2023-09-01 01:02:40.785 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/489267413/PV-2-22 - -
2023-09-01 01:02:40.793 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:02:40.796 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/489267413/PV-2-22 - - - 204 - - 11.1152ms
2023-09-01 01:02:40.803 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/489267413/PV-2-22 application 0
2023-09-01 01:02:40.804 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:02:40.805 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 01:02:40.807 +02:00 [INF] Route matched with {action = "AddStudentToExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddStudentToExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:02:40.812 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:02:40.823 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace]
    FROM [SailingExams] AS [s]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
ORDER BY [t].[SailingExamId], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-09-01 01:02:40.838 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExamStudent] ([SailingExamsSailingExamId], [StudentsStudentId])
VALUES (@p0, @p1);
2023-09-01 01:02:40.849 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:02:40.851 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API) in 41.6683ms
2023-09-01 01:02:40.853 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 01:02:40.855 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/489267413/PV-2-22 application 0 - 200 46 application/json;+charset=utf-8 51.9242ms
2023-09-01 01:03:39.861 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:03:39.870 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:03:39.871 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:03:39.873 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:03:39.874 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 16.9888ms
2023-09-01 01:03:39.875 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.6264ms
2023-09-01 01:03:39.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:03:39.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:03:39.884 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:03:39.885 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:03:39.886 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:03:39.887 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:03:39.888 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:03:39.889 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:03:39.891 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:03:39.892 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:03:39.893 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.8989ms
2023-09-01 01:03:39.894 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.6867ms
2023-09-01 01:03:39.894 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:03:39.895 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:03:39.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 14.4325ms
2023-09-01 01:03:39.897 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 15.6498ms
2023-09-01 01:03:41.400 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:03:41.403 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:03:41.406 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:03:41.407 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:03:41.409 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:03:41.411 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.9066ms
2023-09-01 01:03:41.412 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:03:41.414 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 14.3841ms
2023-09-01 01:03:52.817 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-09-01 01:03:52.818 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:03:52.820 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - - - 204 - - 2.9714ms
2023-09-01 01:03:52.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-09-01 01:03:52.822 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:03:52.824 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-09-01 01:03:52.825 +02:00 [INF] Route matched with {action = "GetExamWithStudentsAndCommittee", controller = "SailingExams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamWithStudentsAndCommittee(System.String) on controller PuntoVitaExams.API.Controllers.SailingExamsController (PuntoVitaExams.API).
2023-09-01 01:03:52.831 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SailingExams] AS [s]
        WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-01 01:03:52.856 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result], [t].[ExaminationCommitteeHeadId], [t].[ExaminationCommitteeSecretaryId], [t].[ExaminationCommitteeHeadFirstName], [t].[ExaminationCommitteeHeadLastName], [t].[ExaminationCommitteeSecretaryFirstName], [t].[ExaminationCommitteeSecretaryLastName], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId], [t1].[ExaminationCommitteeMemberId], [t1].[ExaminationCommitteeMemberFirstName], [t1].[ExaminationCommitteeMemberLastName]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace], [e].[ExaminationCommitteeId] AS [ExaminationCommitteeId0], [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeSecretaryId], [e0].[ExaminationCommitteeHeadId] AS [ExaminationCommitteeHeadId0], [e0].[ExaminationCommitteeHeadFirstName], [e0].[ExaminationCommitteeHeadLastName], [e1].[ExaminationCommitteeSecretaryId] AS [ExaminationCommitteeSecretaryId0], [e1].[ExaminationCommitteeSecretaryFirstName], [e1].[ExaminationCommitteeSecretaryLastName]
    FROM [SailingExams] AS [s]
    LEFT JOIN [ExaminationCommittees] AS [e] ON [s].[ExaminationCommitteeId] = [e].[ExaminationCommitteeId]
    LEFT JOIN [ExaminationCommitteeHeads] AS [e0] ON [e].[ExaminationCommitteeHeadId] = [e0].[ExaminationCommitteeHeadId]
    LEFT JOIN [ExaminationCommitteeSecretaries] AS [e1] ON [e].[ExaminationCommitteeSecretaryId] = [e1].[ExaminationCommitteeSecretaryId]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
LEFT JOIN (
    SELECT [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [e2].[ExaminationCommitteesExaminationCommitteeId], [e3].[ExaminationCommitteeMemberId], [e3].[ExaminationCommitteeMemberFirstName], [e3].[ExaminationCommitteeMemberLastName]
    FROM [ExaminationCommitteeExaminationCommitteeMember] AS [e2]
    INNER JOIN [ExaminationCommitteeMembers] AS [e3] ON [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId] = [e3].[ExaminationCommitteeMemberId]
) AS [t1] ON [t].[ExaminationCommitteeId0] = [t1].[ExaminationCommitteesExaminationCommitteeId]
ORDER BY [t].[SailingExamId], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId]
2023-09-01 01:03:52.865 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.SailingExamDto'.
2023-09-01 01:03:52.867 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API) in 38.1428ms
2023-09-01 01:03:52.868 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-09-01 01:03:52.870 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - - - 200 2323 application/json;+charset=utf-8 48.7779ms
2023-09-01 01:04:00.842 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:00.845 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:00.846 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 4.8086ms
2023-09-01 01:04:00.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:00.850 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:00.851 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:00.852 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:00.853 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 4.1906ms
2023-09-01 01:04:22.743 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:22.746 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:22.748 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 4.7207ms
2023-09-01 01:04:22.754 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:22.754 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:22.755 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:22.756 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:22.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 2.3714ms
2023-09-01 01:04:26.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:26.211 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:26.215 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:26.216 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:26.217 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 7.6769ms
2023-09-01 01:04:37.624 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:37.627 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:37.629 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 5.3688ms
2023-09-01 01:04:37.631 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:37.632 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:37.635 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:37.636 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:37.637 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 6.1541ms
2023-09-01 01:04:39.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:39.091 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:39.094 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:39.096 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:39.097 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 8.4166ms
2023-09-01 01:04:50.557 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:50.561 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:50.563 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 5.1921ms
2023-09-01 01:04:50.567 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:04:50.568 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:04:50.569 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:50.569 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:04:50.570 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 2.7013ms
2023-09-01 01:07:54.424 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:07:54.443 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:54.450 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 21.1682ms
2023-09-01 01:07:54.451 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:07:54.458 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:07:54.460 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:54.461 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:54.462 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 10.8901ms
2023-09-01 01:07:54.462 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:01:58', Current time: '31.08.2023 23:07:54'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 01:07:54.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:07:54.465 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:01:58', Current time: '31.08.2023 23:07:54'.
2023-09-01 01:07:54.466 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:54.467 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-01 01:07:54.468 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:01:58', Current time: '31.08.2023 23:07:54'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 01:07:54.469 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 01:07:54.471 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:01:58', Current time: '31.08.2023 23:07:54'.
2023-09-01 01:07:54.472 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 401 0 - 15.3720ms
2023-09-01 01:07:54.473 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-09-01 01:07:54.474 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 01:07:54.475 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 401 0 - 12.2897ms
2023-09-01 01:07:56.488 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:07:56.490 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:56.491 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 3.1486ms
2023-09-01 01:07:56.493 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:07:56.494 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:56.496 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:01:58', Current time: '31.08.2023 23:07:56'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 01:07:56.504 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:01:58', Current time: '31.08.2023 23:07:56'.
2023-09-01 01:07:56.505 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:07:56.505 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:07:56.518 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:07:56.521 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:07:56.523 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 15.915ms
2023-09-01 01:07:56.523 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:07:56.523 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:07:56.526 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 32.8988ms
2023-09-01 01:07:56.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:07:56.554 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:07:56.554 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:56.555 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:56.556 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:07:56.559 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:07:56.561 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:07:56.561 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:07:56.563 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:07:56.564 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:07:56.565 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.7129ms
2023-09-01 01:07:56.566 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.1921ms
2023-09-01 01:07:56.567 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:07:56.569 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:07:56.570 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 32.9021ms
2023-09-01 01:07:56.570 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 16.9504ms
2023-09-01 01:07:57.860 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:07:57.863 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:07:57.866 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:07:57.869 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:07:57.874 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:07:57.874 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.0274ms
2023-09-01 01:07:57.875 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:07:57.876 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 16.5662ms
2023-09-01 01:08:35.136 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:08:35.138 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:35.157 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 20.4829ms
2023-09-01 01:08:35.158 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:08:35.159 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:35.159 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:08:35.163 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 5.0559ms
2023-09-01 01:08:35.163 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:35.167 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:08:35.169 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:08:35.169 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:35.171 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:08:35.172 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:08:35.175 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:08:35.176 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:08:35.178 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 3.508ms
2023-09-01 01:08:35.180 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:08:35.181 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:08:35.183 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 3.1146ms
2023-09-01 01:08:35.184 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 24.6029ms
2023-09-01 01:08:35.185 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:08:35.187 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 20.5928ms
2023-09-01 01:08:41.071 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:08:41.087 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:41.088 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:08:41.088 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 17.6965ms
2023-09-01 01:08:41.089 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:41.090 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:08:41.094 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 6.6805ms
2023-09-01 01:08:41.095 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:41.096 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:08:41.096 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:08:41.096 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:41.097 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:08:41.098 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:08:41.099 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:08:41.099 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:08:41.100 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.3674ms
2023-09-01 01:08:41.103 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:08:41.103 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:08:41.104 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.3247ms
2023-09-01 01:08:41.105 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 14.4818ms
2023-09-01 01:08:41.105 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:08:41.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 11.4935ms
2023-09-01 01:08:43.041 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:08:43.043 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:08:43.045 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:08:43.046 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:08:43.049 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:08:43.054 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 5.4597ms
2023-09-01 01:08:43.056 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:08:43.056 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 15.3225ms
2023-09-01 01:09:26.305 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:09:26.329 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:09:26.342 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:09:26.343 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 37.9308ms
2023-09-01 01:09:26.344 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:09:26.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:09:26.346 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 6.3659ms
2023-09-01 01:09:26.347 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:09:26.348 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:09:26.349 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:09:26.350 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:09:26.351 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:09:26.352 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:09:26.354 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:09:26.355 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:09:26.356 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.9889ms
2023-09-01 01:09:26.358 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:09:26.359 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:09:26.360 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.1852ms
2023-09-01 01:09:26.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 16.0057ms
2023-09-01 01:09:26.362 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:09:26.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 16.8184ms
2023-09-01 01:09:28.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:09:28.262 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:09:28.264 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:09:28.265 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:09:28.270 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:09:28.273 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 3.5748ms
2023-09-01 01:09:28.274 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:09:28.274 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 14.3147ms
2023-09-01 01:10:44.851 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:10:44.852 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:10:44.853 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 1.9957ms
2023-09-01 01:10:44.855 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:10:44.865 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:10:44.867 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:10:44.869 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:10:44.874 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:10:44.876 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:10:44.877 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 7.0419ms
2023-09-01 01:10:44.879 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:10:44.880 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 25.3982ms
2023-09-01 01:10:44.881 +02:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:10:44.931 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:10:44.931 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:10:44.932 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:10:44.934 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:10:44.935 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.4253ms
2023-09-01 01:10:44.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:10:44.936 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 5.0232ms
2023-09-01 01:10:44.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:10:44.938 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:10:44.940 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:10:44.942 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:10:44.943 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:10:44.943 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:10:44.944 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:10:44.945 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:10:44.948 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:10:44.948 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.9176ms
2023-09-01 01:10:44.949 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.9996ms
2023-09-01 01:10:44.950 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:10:44.951 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:10:44.952 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 14.4731ms
2023-09-01 01:10:44.953 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 14.8364ms
2023-09-01 01:11:56.638 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:11:56.646 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:11:56.647 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 10.2845ms
2023-09-01 01:11:56.652 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:11:56.653 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:11:56.654 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:11:56.655 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:11:56.666 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:11:56.669 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:11:56.670 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 14.6573ms
2023-09-01 01:11:56.672 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:11:56.673 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 21.2683ms
2023-09-01 01:11:56.674 +02:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:11:56.721 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:11:56.721 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:11:56.728 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:11:56.728 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:11:56.729 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 7.9299ms
2023-09-01 01:11:56.730 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 8.4138ms
2023-09-01 01:11:56.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:11:56.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:11:56.736 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:11:56.736 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:11:56.737 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:11:56.737 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:11:56.738 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:11:56.738 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:11:56.740 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:11:56.741 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:11:56.741 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.8613ms
2023-09-01 01:11:56.742 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.6702ms
2023-09-01 01:11:56.743 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:11:56.744 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:11:56.744 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 12.7595ms
2023-09-01 01:11:56.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 13.2199ms
2023-09-01 01:13:11.931 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students - -
2023-09-01 01:13:11.938 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:13:11.939 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students - - - 204 - - 8.9414ms
2023-09-01 01:13:11.941 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students application/json 301
2023-09-01 01:13:11.942 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:13:11.943 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API)'
2023-09-01 01:13:11.944 +02:00 [INF] Route matched with {action = "CreateStudentWithAddressTogether", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PuntoVitaExams.API.Models.StudentForCreationDto]] CreateStudentWithAddressTogether(PuntoVitaExams.API.Models.StudentForCreationDto) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:13:11.960 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addressess] ([City], [FlatNumber], [PostalCode], [Street], [StreetNumber])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-09-01 01:13:11.963 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Students] ([AddressId], [FirstName], [LastName], [Pesel], [Result])
OUTPUT INSERTED.[StudentId]
VALUES (@p5, @p6, @p7, @p8, @p9);
2023-09-01 01:13:11.973 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'PuntoVitaExams.API.Models.StudentForCreationDto'.
2023-09-01 01:13:11.975 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API) in 29.3465ms
2023-09-01 01:13:11.977 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.CreateStudentWithAddressTogether (PuntoVitaExams.API)'
2023-09-01 01:13:11.979 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students application/json 301 - 201 178 application/json;+charset=utf-8 37.9771ms
2023-09-01 01:13:45.004 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/637516924/PV-2-22 - -
2023-09-01 01:13:45.005 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:13:45.009 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/637516924/PV-2-22 - - - 204 - - 4.6782ms
2023-09-01 01:13:45.014 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/students/637516924/PV-2-22 application 0
2023-09-01 01:13:45.014 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:13:45.015 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 01:13:45.017 +02:00 [INF] Route matched with {action = "AddStudentToExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddStudentToExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:13:45.022 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:13:45.028 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace]
    FROM [SailingExams] AS [s]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
ORDER BY [t].[SailingExamId], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-09-01 01:13:45.041 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExamStudent] ([SailingExamsSailingExamId], [StudentsStudentId])
VALUES (@p0, @p1);
2023-09-01 01:13:45.047 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:13:45.048 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API) in 28.3448ms
2023-09-01 01:13:45.049 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.AddStudentToExam (PuntoVitaExams.API)'
2023-09-01 01:13:45.050 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/students/637516924/PV-2-22 application 0 - 200 50 application/json;+charset=utf-8 35.8955ms
2023-09-01 01:14:04.528 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:14:04.544 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:14:04.544 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:14:04.545 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:14:04.547 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 19.1051ms
2023-09-01 01:14:04.548 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.8066ms
2023-09-01 01:14:04.552 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:14:04.558 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:14:04.559 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:14:04.561 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:14:04.562 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:14:04.564 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:14:04.564 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:14:04.567 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:14:04.570 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:14:04.571 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:14:04.572 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.8779ms
2023-09-01 01:14:04.573 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.6545ms
2023-09-01 01:14:04.574 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:14:04.574 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:14:04.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 22.8507ms
2023-09-01 01:14:04.576 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 17.9701ms
2023-09-01 01:14:06.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:14:06.553 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:14:06.555 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:14:06.556 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:14:06.558 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:14:06.559 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.6856ms
2023-09-01 01:14:06.561 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:14:06.562 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 10.6438ms
2023-09-01 01:21:27.306 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:21:27.316 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:21:27.317 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 11.1606ms
2023-09-01 01:21:27.319 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:21:27.326 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:21:27.329 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:21:27.330 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:21:27.341 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:21:27.344 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:21:27.345 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 14.2179ms
2023-09-01 01:21:27.346 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:21:27.347 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 28.3465ms
2023-09-01 01:21:27.351 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:21:27.409 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:21:27.410 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:21:27.418 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:21:27.420 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:21:27.421 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 12.2635ms
2023-09-01 01:21:27.422 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 12.4921ms
2023-09-01 01:21:27.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:21:27.424 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:21:27.427 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:21:27.427 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:21:27.429 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:21:27.430 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:21:27.431 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:21:27.432 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:21:27.435 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:21:27.436 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:21:27.437 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.9444ms
2023-09-01 01:21:27.438 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.1717ms
2023-09-01 01:21:27.439 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:21:27.440 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:21:27.440 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 16.4297ms
2023-09-01 01:21:27.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 17.6492ms
2023-09-01 01:21:28.577 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:21:28.581 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:21:28.581 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:21:28.582 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:21:28.584 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:21:28.586 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.0238ms
2023-09-01 01:21:28.587 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:21:28.589 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 11.4956ms
2023-09-01 01:27:42.270 +02:00 [INF] User profile is available. Using 'C:\Users\Kazimierz Stasiski\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-01 01:27:42.580 +02:00 [INF] Now listening on: https://localhost:7169
2023-09-01 01:27:42.581 +02:00 [INF] Now listening on: http://localhost:5080
2023-09-01 01:27:42.585 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-01 01:27:42.586 +02:00 [INF] Hosting environment: Development
2023-09-01 01:27:42.587 +02:00 [INF] Content root path: C:\Users\Kazimierz Stasiski\source\repos\PuntoVitaExams\PuntoVitaExams.API\
2023-09-01 01:27:48.146 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:27:48.216 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:48.226 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 83.1610ms
2023-09-01 01:27:48.237 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:27:48.245 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:48.482 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:22:27', Current time: '31.08.2023 23:27:48'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 01:27:48.521 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:22:27', Current time: '31.08.2023 23:27:48'.
2023-09-01 01:27:48.534 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:27:48.611 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:27:49.638 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:27:49.641 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:49.651 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:22:27', Current time: '31.08.2023 23:27:49'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 01:27:49.660 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:22:27', Current time: '31.08.2023 23:27:49'.
2023-09-01 01:27:49.662 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:27:49.663 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:27:51.795 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:27:51.796 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:51.801 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:22:27', Current time: '31.08.2023 23:27:51'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-09-01 01:27:51.815 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '31.08.2023 23:22:27', Current time: '31.08.2023 23:27:51'.
2023-09-01 01:27:51.816 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:27:51.817 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:27:53.604 +02:00 [INF] Executed DbCommand (232ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:27:53.604 +02:00 [INF] Executed DbCommand (232ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:27:53.604 +02:00 [INF] Executed DbCommand (232ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:27:54.287 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:27:54.287 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:27:54.287 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:27:54.301 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:27:54.301 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:27:54.301 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:27:54.369 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 5743.8735ms
2023-09-01 01:27:54.369 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 4697.6398ms
2023-09-01 01:27:54.369 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 2542.1752ms
2023-09-01 01:27:54.372 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:27:54.373 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:27:54.375 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:27:54.414 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:27:54.431 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:27:54.434 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:54.436 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:54.437 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 22.8692ms
2023-09-01 01:27:54.438 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 878 application/json;+charset=utf-8 2643.2516ms
2023-09-01 01:27:54.438 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 6201.2776ms
2023-09-01 01:27:54.438 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 4800.1836ms
2023-09-01 01:27:54.439 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 7.6596ms
2023-09-01 01:27:54.440 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:27:54.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:27:54.466 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:54.466 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:54.499 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:27:54.499 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:27:54.502 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:27:54.502 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:27:54.506 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:27:54.507 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:27:54.508 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.3582ms
2023-09-01 01:27:54.508 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 3.3648ms
2023-09-01 01:27:54.509 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:27:54.510 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:27:54.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 56.6903ms
2023-09-01 01:27:54.511 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 71.3085ms
2023-09-01 01:27:55.946 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:27:55.949 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:27:55.950 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:27:55.951 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:27:55.953 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:27:55.953 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.8498ms
2023-09-01 01:27:55.954 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:27:55.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.0031ms
2023-09-01 01:28:08.815 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/637516924 - -
2023-09-01 01:28:08.817 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:28:08.819 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/637516924 - - - 204 - - 3.4413ms
2023-09-01 01:28:08.820 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/637516924 application/json-patch+json 85
2023-09-01 01:28:08.821 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:28:08.824 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:28:08.831 +02:00 [INF] Route matched with {action = "UpdateExamResult", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateExamResult(System.String, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[PuntoVitaExams.API.Models.StudentForAddingExamResultDto]) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:28:08.955 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:28:09.030 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Students] SET [Result] = @p0
OUTPUT 1
WHERE [StudentId] = @p1;
2023-09-01 01:28:09.040 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:28:09.042 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API) in 207.462ms
2023-09-01 01:28:09.045 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:28:09.049 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/637516924 application/json-patch+json 85 - 200 68 application/json;+charset=utf-8 228.1891ms
2023-09-01 01:28:42.147 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 01:28:42.148 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:28:42.152 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 204 - - 5.1749ms
2023-09-01 01:28:42.157 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 01:28:42.158 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:28:42.158 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 01:28:42.164 +02:00 [INF] Route matched with {action = "GetStudentsWhoPassedTheExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetStudentsWhoPassedTheExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:28:42.191 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__examResult_0='?' (Size = 4000), @__examNumber_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[City], [s].[FirstName], [s].[FlatNumber], [s].[LastName], [s].[Pesel], [s].[PostalCode], [s].[Result], [s].[SailingExamNumber], [s].[Street], [s].[StreetNumber]
FROM [StudentsWhoPassedTheExam] AS [s]
WHERE [s].[Result] = @__examResult_0 AND [s].[SailingExamNumber] = @__examNumber_1
2023-09-01 01:28:42.234 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.StudentsWhoPassedTheExamDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-01 01:28:42.256 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API) in 89.5873ms
2023-09-01 01:28:42.258 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 01:28:42.260 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 200 637 application/json;+charset=utf-8 103.1543ms
2023-09-01 01:33:29.488 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:33:29.490 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:29.492 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 3.4517ms
2023-09-01 01:33:29.499 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:33:29.501 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:29.502 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:33:29.504 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:33:29.513 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:33:29.517 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:33:29.519 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 11.0847ms
2023-09-01 01:33:29.521 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:33:29.526 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 878 application/json;+charset=utf-8 26.5793ms
2023-09-01 01:33:29.531 +02:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:33:29.539 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:33:29.547 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:33:29.547 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:29.548 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:29.549 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 10.6561ms
2023-09-01 01:33:29.550 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 3.9593ms
2023-09-01 01:33:29.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:33:29.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:33:29.552 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:29.553 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:29.555 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:33:29.556 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:33:29.558 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:33:29.559 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:33:29.560 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:33:29.644 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:33:29.645 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 85.1477ms
2023-09-01 01:33:29.647 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 3.8192ms
2023-09-01 01:33:29.649 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:33:29.650 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:33:29.652 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 100.2369ms
2023-09-01 01:33:29.654 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 102.8091ms
2023-09-01 01:33:30.802 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:33:30.805 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:30.806 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:33:30.807 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:33:30.810 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:33:30.811 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.0251ms
2023-09-01 01:33:30.814 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:33:30.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 13.7867ms
2023-09-01 01:33:46.470 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/489267413 - -
2023-09-01 01:33:46.473 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:46.475 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/489267413 - - - 204 - - 5.4434ms
2023-09-01 01:33:46.476 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/489267413 application/json-patch+json 85
2023-09-01 01:33:46.477 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:33:46.480 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:33:46.480 +02:00 [INF] Route matched with {action = "UpdateExamResult", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateExamResult(System.String, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[PuntoVitaExams.API.Models.StudentForAddingExamResultDto]) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:33:46.484 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:33:46.488 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Students] SET [Result] = @p0
OUTPUT 1
WHERE [StudentId] = @p1;
2023-09-01 01:33:46.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:33:46.490 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API) in 8.9038ms
2023-09-01 01:33:46.491 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:33:46.492 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/489267413 application/json-patch+json 85 - 200 68 application/json;+charset=utf-8 15.6941ms
2023-09-01 01:34:39.559 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 01:34:39.567 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:39.568 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 204 - - 9.7917ms
2023-09-01 01:34:39.570 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 01:34:39.570 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:39.572 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager)
2023-09-01 01:34:39.579 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 01:34:39.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 401 0 - 10.4431ms
2023-09-01 01:34:40.900 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students// - -
2023-09-01 01:34:40.901 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:40.902 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students// - - - 204 - - 2.3910ms
2023-09-01 01:34:40.903 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students// - -
2023-09-01 01:34:40.904 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:40.905 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students// - - - 404 0 - 1.2580ms
2023-09-01 01:34:43.902 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:34:43.904 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:43.905 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 3.8113ms
2023-09-01 01:34:43.907 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:34:43.908 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:43.910 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:34:43.911 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:34:43.920 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:34:43.923 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:34:43.925 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 8.6412ms
2023-09-01 01:34:43.926 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:34:43.927 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 19.5752ms
2023-09-01 01:34:43.927 +02:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:34:43.986 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:34:43.986 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:34:43.989 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:43.991 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:43.991 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.9383ms
2023-09-01 01:34:43.992 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 5.4893ms
2023-09-01 01:34:43.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:34:43.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:34:43.994 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:43.994 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:43.995 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:34:43.995 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:34:43.996 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:34:43.996 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:34:43.998 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:34:43.999 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:34:44.000 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.3174ms
2023-09-01 01:34:44.001 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.5942ms
2023-09-01 01:34:44.001 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:34:44.002 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:34:44.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.9897ms
2023-09-01 01:34:44.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 10.5486ms
2023-09-01 01:34:45.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:34:45.337 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:34:45.339 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:34:45.341 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:34:45.344 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:34:45.345 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.1141ms
2023-09-01 01:34:45.346 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:34:45.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 12.6561ms
2023-09-01 01:35:02.765 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 01:35:02.767 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:35:02.768 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 204 - - 3.1010ms
2023-09-01 01:35:02.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 01:35:02.771 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:35:02.774 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 01:35:02.776 +02:00 [INF] Route matched with {action = "GetStudentsWhoPassedTheExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetStudentsWhoPassedTheExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:35:02.790 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__examResult_0='?' (Size = 4000), @__examNumber_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[City], [s].[FirstName], [s].[FlatNumber], [s].[LastName], [s].[Pesel], [s].[PostalCode], [s].[Result], [s].[SailingExamNumber], [s].[Street], [s].[StreetNumber]
FROM [StudentsWhoPassedTheExam] AS [s]
WHERE [s].[Result] = @__examResult_0 AND [s].[SailingExamNumber] = @__examNumber_1
2023-09-01 01:35:02.792 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.StudentsWhoPassedTheExamDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-01 01:35:02.794 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API) in 16.5253ms
2023-09-01 01:35:02.797 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 01:35:02.798 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 200 849 application/json;+charset=utf-8 27.9486ms
2023-09-01 01:38:39.630 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:38:39.636 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:38:39.637 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 6.5309ms
2023-09-01 01:38:39.638 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:38:39.639 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:38:39.640 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:38:39.641 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:38:39.645 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:38:39.648 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:38:39.649 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 7.5022ms
2023-09-01 01:38:39.650 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:38:39.650 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:38:39.653 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 14.7391ms
2023-09-01 01:38:39.679 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:38:39.679 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:38:39.682 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:38:39.683 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:38:39.684 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 5.1015ms
2023-09-01 01:38:39.686 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:38:39.690 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 11.2024ms
2023-09-01 01:38:39.693 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:38:39.694 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:38:39.696 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:38:39.697 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:38:39.699 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:38:39.702 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:38:39.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:38:39.704 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:38:39.706 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.2139ms
2023-09-01 01:38:39.707 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:38:39.708 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:38:39.709 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.6028ms
2023-09-01 01:38:39.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 23.2083ms
2023-09-01 01:38:39.710 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:38:39.711 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 17.7047ms
2023-09-01 01:38:40.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:38:40.981 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:38:40.982 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:38:40.983 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:38:40.984 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:38:40.985 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.9581ms
2023-09-01 01:38:40.986 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:38:40.987 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.3210ms
2023-09-01 01:39:54.942 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:39:54.951 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:39:54.953 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 10.9454ms
2023-09-01 01:39:54.954 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:39:54.956 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:39:54.957 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:39:54.958 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:39:54.963 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:39:54.966 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:39:54.967 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 7.7249ms
2023-09-01 01:39:54.969 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:39:54.970 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 15.6564ms
2023-09-01 01:39:54.973 +02:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:39:55.020 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:39:55.020 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:39:55.021 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:39:55.022 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:39:55.022 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 2.2954ms
2023-09-01 01:39:55.026 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:39:55.023 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 3.0823ms
2023-09-01 01:39:55.029 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:39:55.030 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:39:55.031 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:39:55.032 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:39:55.033 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:39:55.034 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:39:55.034 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:39:55.036 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:39:55.037 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:39:55.037 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.7917ms
2023-09-01 01:39:55.038 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.5785ms
2023-09-01 01:39:55.039 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:39:55.040 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:39:55.040 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 14.6315ms
2023-09-01 01:39:55.041 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 12.4527ms
2023-09-01 01:39:56.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:39:56.850 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:39:56.852 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:39:56.853 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:39:56.854 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:39:56.855 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.0709ms
2023-09-01 01:39:56.856 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:39:56.856 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.0511ms
2023-09-01 01:40:40.514 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/235416952 - -
2023-09-01 01:40:40.518 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:40:40.520 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/235416952 - - - 204 - - 6.4441ms
2023-09-01 01:40:40.524 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/235416952 application/json-patch+json 85
2023-09-01 01:40:40.525 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:40:40.526 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:40:40.526 +02:00 [INF] Route matched with {action = "UpdateExamResult", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateExamResult(System.String, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[PuntoVitaExams.API.Models.StudentForAddingExamResultDto]) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:40:40.537 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:40:40.541 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Students] SET [Result] = @p0
OUTPUT 1
WHERE [StudentId] = @p1;
2023-09-01 01:40:40.543 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:40:40.544 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API) in 16.0612ms
2023-09-01 01:40:40.545 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:40:40.545 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/235416952 application/json-patch+json 85 - 200 68 application/json;+charset=utf-8 21.2332ms
2023-09-01 01:43:02.155 +02:00 [INF] User profile is available. Using 'C:\Users\Kazimierz Stasiski\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-01 01:43:02.451 +02:00 [INF] Now listening on: https://localhost:7169
2023-09-01 01:43:02.451 +02:00 [INF] Now listening on: http://localhost:5080
2023-09-01 01:43:02.455 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-01 01:43:02.457 +02:00 [INF] Hosting environment: Development
2023-09-01 01:43:02.457 +02:00 [INF] Content root path: C:\Users\Kazimierz Stasiski\source\repos\PuntoVitaExams\PuntoVitaExams.API\
2023-09-01 01:43:40.664 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/856931467 - -
2023-09-01 01:43:40.747 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:40.758 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/856931467 - - - 204 - - 99.0659ms
2023-09-01 01:43:40.760 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/856931467 application/json-patch+json 85
2023-09-01 01:43:40.765 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:41.264 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:43:41.315 +02:00 [INF] Route matched with {action = "UpdateExamResult", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateExamResult(System.String, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[PuntoVitaExams.API.Models.StudentForAddingExamResultDto]) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:43:41.826 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/856931467 application/json-patch+json 85
2023-09-01 01:43:41.831 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:41.835 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:43:41.836 +02:00 [INF] Route matched with {action = "UpdateExamResult", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateExamResult(System.String, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[PuntoVitaExams.API.Models.StudentForAddingExamResultDto]) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:43:45.559 +02:00 [INF] Executed DbCommand (184ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:43:45.559 +02:00 [INF] Executed DbCommand (184ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:43:46.081 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Students] SET [Result] = @p0
OUTPUT 1
WHERE [StudentId] = @p1;
2023-09-01 01:43:46.081 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Students] SET [Result] = @p0
OUTPUT 1
WHERE [StudentId] = @p1;
2023-09-01 01:43:46.169 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:43:46.169 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:43:46.258 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API) in 4926.2065ms
2023-09-01 01:43:46.258 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API) in 4403.798ms
2023-09-01 01:43:46.264 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:43:46.264 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:43:46.317 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/856931467 application/json-patch+json 85 - 200 48 application/json;+charset=utf-8 5556.5121ms
2023-09-01 01:43:46.317 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/856931467 application/json-patch+json 85 - 200 48 application/json;+charset=utf-8 4490.6189ms
2023-09-01 01:43:50.495 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:43:50.496 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:50.498 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 3.1102ms
2023-09-01 01:43:50.511 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:43:50.513 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:50.516 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:43:50.522 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:43:50.791 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:43:50.976 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:43:50.982 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:43:51.004 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 477.7159ms
2023-09-01 01:43:51.008 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:43:51.010 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 499.4235ms
2023-09-01 01:43:51.026 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:43:51.042 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:43:51.042 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:51.044 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:51.046 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 20.5908ms
2023-09-01 01:43:51.048 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 6.5018ms
2023-09-01 01:43:51.048 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:43:51.049 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:43:51.063 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:51.063 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:51.066 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:43:51.066 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:43:51.068 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:43:51.070 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:43:51.072 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:43:51.075 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 4.2143ms
2023-09-01 01:43:51.076 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:43:51.077 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:43:51.078 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 5.6915ms
2023-09-01 01:43:51.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 30.0386ms
2023-09-01 01:43:51.080 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:43:51.083 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 34.4241ms
2023-09-01 01:43:52.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:43:52.619 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:43:52.620 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:43:52.620 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:43:52.622 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:43:52.623 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.8428ms
2023-09-01 01:43:52.624 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:43:52.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 10.6428ms
2023-09-01 01:44:33.462 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:44:33.464 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:33.465 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 3.2000ms
2023-09-01 01:44:33.473 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:44:33.476 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:33.476 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:44:33.477 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:44:33.481 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:44:33.485 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:44:33.486 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 7.4974ms
2023-09-01 01:44:33.487 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:44:33.494 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 21.7392ms
2023-09-01 01:44:33.499 +02:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:44:33.509 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:44:33.527 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:44:33.536 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:33.537 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:33.539 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 30.4261ms
2023-09-01 01:44:33.540 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 13.6308ms
2023-09-01 01:44:33.550 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:44:33.550 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:44:33.558 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:33.559 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:33.561 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:44:33.562 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:44:33.562 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:44:33.563 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:44:33.620 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:44:33.622 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:44:33.622 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.2816ms
2023-09-01 01:44:33.624 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.9452ms
2023-09-01 01:44:33.625 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:44:33.626 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:44:33.627 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 81.8504ms
2023-09-01 01:44:33.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 81.6218ms
2023-09-01 01:44:34.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:44:34.812 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:34.814 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:44:34.818 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:44:34.820 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:44:34.821 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.1524ms
2023-09-01 01:44:34.822 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:44:34.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 13.6930ms
2023-09-01 01:44:49.110 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/721634791 - -
2023-09-01 01:44:49.114 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:49.117 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/721634791 - - - 204 - - 6.2376ms
2023-09-01 01:44:49.119 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/721634791 application/json-patch+json 85
2023-09-01 01:44:49.121 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:44:49.124 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:44:49.128 +02:00 [INF] Route matched with {action = "UpdateExamResult", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateExamResult(System.String, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[PuntoVitaExams.API.Models.StudentForAddingExamResultDto]) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:44:49.135 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:44:49.147 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Students] SET [Result] = @p0
OUTPUT 1
WHERE [StudentId] = @p1;
2023-09-01 01:44:49.149 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:44:49.150 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API) in 19.1234ms
2023-09-01 01:44:49.151 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:44:49.152 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/721634791 application/json-patch+json 85 - 200 47 application/json;+charset=utf-8 33.0677ms
2023-09-01 01:45:33.368 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-09-01 01:45:33.379 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:33.383 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - - - 204 - - 15.2832ms
2023-09-01 01:45:33.384 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-09-01 01:45:33.385 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:33.385 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-09-01 01:45:33.388 +02:00 [INF] Route matched with {action = "GetExamWithStudentsAndCommittee", controller = "SailingExams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamWithStudentsAndCommittee(System.String) on controller PuntoVitaExams.API.Controllers.SailingExamsController (PuntoVitaExams.API).
2023-09-01 01:45:33.441 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SailingExams] AS [s]
        WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-09-01 01:45:33.697 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2023-09-01 01:45:33.743 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result], [t].[ExaminationCommitteeHeadId], [t].[ExaminationCommitteeSecretaryId], [t].[ExaminationCommitteeHeadFirstName], [t].[ExaminationCommitteeHeadLastName], [t].[ExaminationCommitteeSecretaryFirstName], [t].[ExaminationCommitteeSecretaryLastName], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId], [t1].[ExaminationCommitteeMemberId], [t1].[ExaminationCommitteeMemberFirstName], [t1].[ExaminationCommitteeMemberLastName]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace], [e].[ExaminationCommitteeId] AS [ExaminationCommitteeId0], [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeSecretaryId], [e0].[ExaminationCommitteeHeadId] AS [ExaminationCommitteeHeadId0], [e0].[ExaminationCommitteeHeadFirstName], [e0].[ExaminationCommitteeHeadLastName], [e1].[ExaminationCommitteeSecretaryId] AS [ExaminationCommitteeSecretaryId0], [e1].[ExaminationCommitteeSecretaryFirstName], [e1].[ExaminationCommitteeSecretaryLastName]
    FROM [SailingExams] AS [s]
    LEFT JOIN [ExaminationCommittees] AS [e] ON [s].[ExaminationCommitteeId] = [e].[ExaminationCommitteeId]
    LEFT JOIN [ExaminationCommitteeHeads] AS [e0] ON [e].[ExaminationCommitteeHeadId] = [e0].[ExaminationCommitteeHeadId]
    LEFT JOIN [ExaminationCommitteeSecretaries] AS [e1] ON [e].[ExaminationCommitteeSecretaryId] = [e1].[ExaminationCommitteeSecretaryId]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
LEFT JOIN (
    SELECT [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [e2].[ExaminationCommitteesExaminationCommitteeId], [e3].[ExaminationCommitteeMemberId], [e3].[ExaminationCommitteeMemberFirstName], [e3].[ExaminationCommitteeMemberLastName]
    FROM [ExaminationCommitteeExaminationCommitteeMember] AS [e2]
    INNER JOIN [ExaminationCommitteeMembers] AS [e3] ON [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId] = [e3].[ExaminationCommitteeMemberId]
) AS [t1] ON [t].[ExaminationCommitteeId0] = [t1].[ExaminationCommitteesExaminationCommitteeId]
ORDER BY [t].[SailingExamId], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId]
2023-09-01 01:45:34.000 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.SailingExamDto'.
2023-09-01 01:45:34.036 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API) in 645.8718ms
2023-09-01 01:45:34.039 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-09-01 01:45:34.041 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - - - 200 2480 application/json;+charset=utf-8 657.0586ms
2023-09-01 01:45:34.300 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:45:34.302 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:34.303 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 2.8537ms
2023-09-01 01:45:34.311 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:45:34.312 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:34.314 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:45:34.316 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:45:34.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 5.6212ms
2023-09-01 01:45:42.204 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:45:42.205 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:42.212 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 8.2357ms
2023-09-01 01:45:42.214 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:45:42.215 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:42.215 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:45:42.216 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:45:42.217 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 2.9463ms
2023-09-01 01:45:52.248 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:45:52.249 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:52.250 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 2.4199ms
2023-09-01 01:45:52.252 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:45:52.254 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:52.255 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:45:52.257 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:45:52.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 6.5958ms
2023-09-01 01:45:54.385 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:45:54.386 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:45:54.386 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:45:54.388 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:45:54.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 5.0863ms
2023-09-01 01:46:06.940 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:46:06.944 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:46:06.946 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 5.8895ms
2023-09-01 01:46:06.947 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:46:06.948 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:46:06.949 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:46:06.951 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:46:06.952 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 4.8087ms
2023-09-01 01:46:13.633 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:46:13.635 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:46:13.636 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/ - - - 204 - - 2.9378ms
2023-09-01 01:46:13.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/ - -
2023-09-01 01:46:13.640 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:46:13.641 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-09-01 01:46:13.642 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-09-01 01:46:13.644 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/ - - - 405 0 - 5.2281ms
2023-09-01 01:49:12.162 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:49:12.165 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:12.169 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 7.1678ms
2023-09-01 01:49:12.173 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:49:12.174 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:12.174 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:49:12.175 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:49:12.179 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:49:12.183 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:49:12.184 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 7.7148ms
2023-09-01 01:49:12.185 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:49:12.186 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 12.8755ms
2023-09-01 01:49:12.191 +02:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:49:12.198 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:49:12.220 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:49:12.225 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:12.253 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:12.275 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 77.7079ms
2023-09-01 01:49:12.276 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 58.4691ms
2023-09-01 01:49:12.278 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:49:12.278 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:49:12.280 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:12.280 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:12.281 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:49:12.281 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:49:12.282 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:49:12.282 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:49:12.283 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:49:12.285 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:49:12.286 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.9348ms
2023-09-01 01:49:12.288 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.941ms
2023-09-01 01:49:12.290 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:49:12.292 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:49:12.293 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 15.2610ms
2023-09-01 01:49:12.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 16.2807ms
2023-09-01 01:49:13.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:49:13.596 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:13.598 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:49:13.599 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:49:13.600 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:49:13.601 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.126ms
2023-09-01 01:49:13.602 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:49:13.603 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.4874ms
2023-09-01 01:49:38.054 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 01:49:38.057 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:38.059 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 204 - - 6.0796ms
2023-09-01 01:49:38.064 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 01:49:38.064 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:49:38.065 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 01:49:38.068 +02:00 [INF] Route matched with {action = "GetStudentsWhoPassedTheExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetStudentsWhoPassedTheExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:49:38.109 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__examResult_0='?' (Size = 4000), @__examNumber_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[City], [s].[FirstName], [s].[FlatNumber], [s].[LastName], [s].[Pesel], [s].[PostalCode], [s].[Result], [s].[SailingExamNumber], [s].[Street], [s].[StreetNumber]
FROM [StudentsWhoPassedTheExam] AS [s]
WHERE [s].[Result] = @__examResult_0 AND [s].[SailingExamNumber] = @__examNumber_1
2023-09-01 01:49:38.130 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.StudentsWhoPassedTheExamDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-01 01:49:38.142 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API) in 72.2685ms
2023-09-01 01:49:38.144 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 01:49:38.148 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 200 1269 application/json;+charset=utf-8 83.7603ms
2023-09-01 01:50:23.039 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/125869321 - -
2023-09-01 01:50:23.049 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:50:23.051 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/125869321 - - - 204 - - 11.9710ms
2023-09-01 01:50:23.053 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/125869321 application/json-patch+json 85
2023-09-01 01:50:23.055 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:50:23.057 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:50:23.060 +02:00 [INF] Route matched with {action = "UpdateExamResult", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateExamResult(System.String, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[PuntoVitaExams.API.Models.StudentForAddingExamResultDto]) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:50:23.068 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:50:23.079 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Students] SET [Result] = @p0
OUTPUT 1
WHERE [StudentId] = @p1;
2023-09-01 01:50:23.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:50:23.082 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API) in 18.7051ms
2023-09-01 01:50:23.083 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:50:23.084 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/125869321 application/json-patch+json 85 - 200 46 application/json;+charset=utf-8 30.9134ms
2023-09-01 01:59:20.419 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/362159632 - -
2023-09-01 01:59:20.426 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:20.427 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/362159632 - - - 204 - - 7.5146ms
2023-09-01 01:59:20.433 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/362159632 application/json-patch+json 85
2023-09-01 01:59:20.434 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:20.436 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Manager)
2023-09-01 01:59:20.446 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-09-01 01:59:20.449 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/362159632 application/json-patch+json 85 - 401 0 - 15.4124ms
2023-09-01 01:59:37.508 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 01:59:37.511 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:37.513 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 5.3689ms
2023-09-01 01:59:37.522 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 01:59:37.523 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:37.524 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:59:37.525 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:59:37.537 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 01:59:37.540 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 01:59:37.541 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 14.424ms
2023-09-01 01:59:37.541 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 01:59:37.542 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 20.0796ms
2023-09-01 01:59:37.543 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 01:59:37.600 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:59:37.600 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 01:59:37.603 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:37.604 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:37.605 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.9268ms
2023-09-01 01:59:37.606 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 5.8562ms
2023-09-01 01:59:37.607 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:59:37.608 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 01:59:37.613 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:37.613 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:37.615 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:59:37.615 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:59:37.616 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:59:37.617 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:59:37.619 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:59:37.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:59:37.621 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.2451ms
2023-09-01 01:59:37.622 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.6613ms
2023-09-01 01:59:37.623 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:59:37.623 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 01:59:37.624 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 16.9055ms
2023-09-01 01:59:37.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 16.5600ms
2023-09-01 01:59:39.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 01:59:39.362 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:39.364 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:59:39.364 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 01:59:39.365 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:59:39.366 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.2095ms
2023-09-01 01:59:39.367 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 01:59:39.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 11.1639ms
2023-09-01 01:59:53.811 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/362159632 - -
2023-09-01 01:59:53.814 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:53.815 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/362159632 - - - 204 - - 3.8238ms
2023-09-01 01:59:53.816 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7169/api/students/362159632 application/json-patch+json 85
2023-09-01 01:59:53.817 +02:00 [INF] CORS policy execution successful.
2023-09-01 01:59:53.818 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:59:53.819 +02:00 [INF] Route matched with {action = "UpdateExamResult", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateExamResult(System.String, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[PuntoVitaExams.API.Models.StudentForAddingExamResultDto]) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 01:59:53.829 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 01:59:53.840 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Students] SET [Result] = @p0
OUTPUT 1
WHERE [StudentId] = @p1;
2023-09-01 01:59:53.844 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 01:59:53.845 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API) in 24.754ms
2023-09-01 01:59:53.846 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.UpdateExamResult (PuntoVitaExams.API)'
2023-09-01 01:59:53.847 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7169/api/students/362159632 application/json-patch+json 85 - 200 47 application/json;+charset=utf-8 30.2496ms
2023-09-01 02:00:50.587 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 02:00:50.597 +02:00 [INF] CORS policy execution successful.
2023-09-01 02:00:50.601 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 204 - - 14.5141ms
2023-09-01 02:00:50.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-09-01 02:00:50.603 +02:00 [INF] CORS policy execution successful.
2023-09-01 02:00:50.604 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 02:00:50.604 +02:00 [INF] Route matched with {action = "GetStudentsWhoPassedTheExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetStudentsWhoPassedTheExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 02:00:50.610 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__examResult_0='?' (Size = 4000), @__examNumber_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[City], [s].[FirstName], [s].[FlatNumber], [s].[LastName], [s].[Pesel], [s].[PostalCode], [s].[Result], [s].[SailingExamNumber], [s].[Street], [s].[StreetNumber]
FROM [StudentsWhoPassedTheExam] AS [s]
WHERE [s].[Result] = @__examResult_0 AND [s].[SailingExamNumber] = @__examNumber_1
2023-09-01 02:00:50.612 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.StudentsWhoPassedTheExamDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-09-01 02:00:50.613 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API) in 7.8945ms
2023-09-01 02:00:50.614 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-09-01 02:00:50.615 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 200 1686 application/json;+charset=utf-8 12.8625ms
2023-09-01 02:01:32.153 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logout - -
2023-09-01 02:01:32.162 +02:00 [INF] CORS policy execution successful.
2023-09-01 02:01:32.165 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logout - - - 204 - - 12.5303ms
2023-09-01 02:01:32.166 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/logout application/json 2
2023-09-01 02:01:32.167 +02:00 [INF] CORS policy execution successful.
2023-09-01 02:01:32.168 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.LogOut (PuntoVitaExams.API)'
2023-09-01 02:01:32.170 +02:00 [INF] Route matched with {action = "LogOut", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogOut() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 02:01:32.177 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-09-01 02:01:32.178 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.LogOut (PuntoVitaExams.API) in 6.3106ms
2023-09-01 02:01:32.179 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.LogOut (PuntoVitaExams.API)'
2023-09-01 02:01:32.179 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/logout application/json 2 - 204 - - 12.9760ms
2023-09-01 22:24:59.610 +02:00 [INF] User profile is available. Using 'C:\Users\Kazimierz Stasiski\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-01 22:25:00.044 +02:00 [INF] Now listening on: https://localhost:7169
2023-09-01 22:25:00.045 +02:00 [INF] Now listening on: http://localhost:5080
2023-09-01 22:25:00.051 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-01 22:25:00.052 +02:00 [INF] Hosting environment: Development
2023-09-01 22:25:00.053 +02:00 [INF] Content root path: C:\Users\Kazimierz Stasiski\source\repos\PuntoVitaExams\PuntoVitaExams.API\
2023-09-01 22:32:26.843 +02:00 [INF] User profile is available. Using 'C:\Users\Kazimierz Stasiski\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-01 22:32:27.064 +02:00 [INF] Now listening on: https://localhost:7169
2023-09-01 22:32:27.065 +02:00 [INF] Now listening on: http://localhost:5080
2023-09-01 22:32:27.069 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-01 22:32:27.070 +02:00 [INF] Hosting environment: Development
2023-09-01 22:32:27.070 +02:00 [INF] Content root path: C:\Users\Kazimierz Stasiski\source\repos\PuntoVitaExams\PuntoVitaExams.API\
2023-09-01 22:32:39.646 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 22:32:39.724 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:32:39.739 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 97.1961ms
2023-09-01 22:32:39.748 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 22:32:39.752 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:32:39.846 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 22:32:39.882 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:32:43.357 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 22:32:43.788 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 22:32:43.811 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 22:32:43.873 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 3979.924ms
2023-09-01 22:32:43.879 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 22:32:43.911 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 22:32:43.911 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:32:43.916 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:32:43.916 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:32:43.916 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 878 application/json;+charset=utf-8 4167.9679ms
2023-09-01 22:32:43.919 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 7.6626ms
2023-09-01 22:32:43.918 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 6.4777ms
2023-09-01 22:32:43.927 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:32:43.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 22:32:43.949 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:32:43.949 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:32:44.038 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:32:44.038 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:32:44.043 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:32:44.044 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:32:44.047 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:32:44.049 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:32:44.049 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 3.7458ms
2023-09-01 22:32:44.050 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 3.2126ms
2023-09-01 22:32:44.051 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:32:44.051 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:32:44.052 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 132.0897ms
2023-09-01 22:32:44.053 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 126.3622ms
2023-09-01 22:34:34.660 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 22:34:34.675 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:34:34.676 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:34:34.677 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 16.8421ms
2023-09-01 22:34:34.677 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:34:34.683 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 22:34:34.683 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 7.1464ms
2023-09-01 22:34:34.685 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:34:34.690 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:34:34.697 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:34:34.699 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:34:34.699 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:34:34.700 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:34:34.701 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:34:34.702 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:34:34.703 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:34:34.704 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.9476ms
2023-09-01 22:34:34.705 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.9673ms
2023-09-01 22:34:34.706 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:34:34.706 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:34:34.707 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 24.2491ms
2023-09-01 22:34:34.708 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 19.2607ms
2023-09-01 22:34:37.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:34:37.022 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:34:37.023 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:34:37.023 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:34:37.025 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:34:37.027 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.5047ms
2023-09-01 22:34:37.028 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:34:37.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 8.8472ms
2023-09-01 22:38:12.930 +02:00 [INF] User profile is available. Using 'C:\Users\Kazimierz Stasiski\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-01 22:38:13.158 +02:00 [INF] Now listening on: https://localhost:7169
2023-09-01 22:38:13.159 +02:00 [INF] Now listening on: http://localhost:5080
2023-09-01 22:38:13.162 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-01 22:38:13.164 +02:00 [INF] Hosting environment: Development
2023-09-01 22:38:13.164 +02:00 [INF] Content root path: C:\Users\Kazimierz Stasiski\source\repos\PuntoVitaExams\PuntoVitaExams.API\
2023-09-01 22:38:17.554 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 22:38:17.625 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:17.642 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 91.6138ms
2023-09-01 22:38:17.646 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 22:38:17.650 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:17.735 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 22:38:17.774 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:38:20.267 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 22:38:20.663 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 22:38:20.689 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 22:38:20.742 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 2955.5073ms
2023-09-01 22:38:20.748 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 22:38:20.779 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 22:38:20.779 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:38:20.786 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:20.786 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:20.788 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 9.2543ms
2023-09-01 22:38:20.789 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 10.5084ms
2023-09-01 22:38:20.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:38:20.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 22:38:20.793 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 3147.4364ms
2023-09-01 22:38:20.815 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:20.815 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:20.912 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:38:20.912 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:38:20.916 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:38:20.916 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:38:20.920 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:38:20.922 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 3.4588ms
2023-09-01 22:38:20.922 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:38:20.923 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:38:20.924 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 4.1033ms
2023-09-01 22:38:20.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 131.7354ms
2023-09-01 22:38:20.925 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:38:20.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 134.6501ms
2023-09-01 22:38:22.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:38:22.927 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:22.932 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:38:22.934 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:38:22.936 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:38:22.936 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.0664ms
2023-09-01 22:38:22.938 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:38:22.938 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 14.0033ms
2023-09-01 22:38:58.477 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/251367421 - -
2023-09-01 22:38:58.481 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:58.482 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/251367421 - - - 204 - - 5.2542ms
2023-09-01 22:38:58.487 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7169/api/students/251367421 application -
2023-09-01 22:38:58.487 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:38:58.489 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.DeleteStudent (PuntoVitaExams.API)'
2023-09-01 22:38:58.492 +02:00 [INF] Route matched with {action = "DeleteStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteStudent(System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 22:38:58.532 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 22:38:58.580 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Students]
OUTPUT 1
WHERE [StudentId] = @p0;
2023-09-01 22:38:58.589 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:38:58.591 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.DeleteStudent (PuntoVitaExams.API) in 97.5225ms
2023-09-01 22:38:58.593 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.DeleteStudent (PuntoVitaExams.API)'
2023-09-01 22:38:58.595 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7169/api/students/251367421 application - - 200 54 application/json;+charset=utf-8 108.1203ms
2023-09-01 22:41:16.373 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 22:41:16.380 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:16.381 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 7.5832ms
2023-09-01 22:41:16.382 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 22:41:16.382 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:16.383 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 22:41:16.384 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:41:16.445 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 22:41:16.449 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 22:41:16.450 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 22:41:16.450 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 65.7611ms
2023-09-01 22:41:16.455 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 22:41:16.455 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 73.5792ms
2023-09-01 22:41:16.463 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 22:41:16.464 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:41:16.467 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:16.464 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:16.470 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 5.6463ms
2023-09-01 22:41:16.471 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 7.6022ms
2023-09-01 22:41:16.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:41:16.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 22:41:16.475 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:16.476 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:16.477 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:41:16.478 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:41:16.479 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:41:16.481 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:41:16.484 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:41:16.486 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:41:16.487 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 3.0083ms
2023-09-01 22:41:16.488 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.413ms
2023-09-01 22:41:16.489 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:41:16.490 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:41:16.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 17.0940ms
2023-09-01 22:41:16.491 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 17.8097ms
2023-09-01 22:41:18.581 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:41:18.584 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:18.585 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:41:18.585 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:41:18.587 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:41:18.588 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.0679ms
2023-09-01 22:41:18.589 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:41:18.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 10.0011ms
2023-09-01 22:41:53.917 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/639569214 - -
2023-09-01 22:41:53.925 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:53.925 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/639569214 - - - 204 - - 8.0133ms
2023-09-01 22:41:53.927 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7169/api/students/639569214 application -
2023-09-01 22:41:53.928 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:41:53.929 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.DeleteStudent (PuntoVitaExams.API)'
2023-09-01 22:41:53.929 +02:00 [INF] Route matched with {action = "DeleteStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteStudent(System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-09-01 22:41:53.932 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result]
FROM [Students] AS [s]
WHERE [s].[Pesel] = @__pesel_0
2023-09-01 22:41:53.942 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Students]
OUTPUT 1
WHERE [StudentId] = @p0;
2023-09-01 22:41:53.945 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:41:53.946 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.DeleteStudent (PuntoVitaExams.API) in 15.0909ms
2023-09-01 22:41:53.947 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.DeleteStudent (PuntoVitaExams.API)'
2023-09-01 22:41:53.947 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7169/api/students/639569214 application - - 200 50 application/json;+charset=utf-8 20.0572ms
2023-09-01 22:42:18.255 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 22:42:18.273 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:42:18.274 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:42:18.277 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:42:18.278 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 22.4016ms
2023-09-01 22:42:18.278 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.7871ms
2023-09-01 22:42:18.279 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 22:42:18.279 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:42:18.280 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:42:18.280 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:42:18.281 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:42:18.281 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:42:18.282 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:42:18.282 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:42:18.284 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:42:18.285 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:42:18.286 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.7311ms
2023-09-01 22:42:18.287 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.1442ms
2023-09-01 22:42:18.288 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 22:42:18.288 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:42:18.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 9.7381ms
2023-09-01 22:42:18.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 10.4240ms
2023-09-01 22:42:20.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 22:42:20.887 +02:00 [INF] CORS policy execution successful.
2023-09-01 22:42:20.888 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:42:20.888 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 22:42:20.889 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 22:42:20.890 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.8435ms
2023-09-01 22:42:20.891 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 22:42:20.892 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.8082ms
2023-09-01 23:14:52.598 +02:00 [INF] User profile is available. Using 'C:\Users\Kazimierz Stasiski\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-01 23:14:52.818 +02:00 [INF] Now listening on: https://localhost:7169
2023-09-01 23:14:52.819 +02:00 [INF] Now listening on: http://localhost:5080
2023-09-01 23:14:52.823 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-01 23:14:52.824 +02:00 [INF] Hosting environment: Development
2023-09-01 23:14:52.824 +02:00 [INF] Content root path: C:\Users\Kazimierz Stasiski\source\repos\PuntoVitaExams\PuntoVitaExams.API\
2023-09-01 23:29:34.278 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 23:29:34.342 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:29:34.359 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 80.4376ms
2023-09-01 23:29:34.367 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 23:29:34.372 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:29:34.451 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:29:34.481 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:29:36.647 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 23:29:36.653 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:29:36.659 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:29:36.661 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:29:36.972 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 23:29:36.972 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 23:29:37.374 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 23:29:37.374 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 23:29:37.388 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 23:29:37.388 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 23:29:37.442 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 2950.9958ms
2023-09-01 23:29:37.442 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 773.5134ms
2023-09-01 23:29:37.446 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:29:37.446 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:29:37.472 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 824.9842ms
2023-09-01 23:29:37.472 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 3105.2654ms
2023-09-01 23:29:37.482 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 23:29:37.482 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:29:37.492 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:29:37.494 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:29:37.496 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 13.5656ms
2023-09-01 23:29:37.496 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 13.9641ms
2023-09-01 23:29:37.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 23:29:37.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:29:37.519 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:29:37.519 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:29:37.613 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:29:37.613 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:29:37.617 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:29:37.618 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:29:37.623 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:29:37.623 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:29:37.625 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 4.7372ms
2023-09-01 23:29:37.626 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 4.0321ms
2023-09-01 23:29:37.626 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:29:37.627 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:29:37.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 127.5416ms
2023-09-01 23:29:37.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 128.6396ms
2023-09-01 23:29:39.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:29:39.942 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:29:39.943 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:29:39.944 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:29:39.946 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:29:39.947 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.916ms
2023-09-01 23:29:39.948 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:29:39.948 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.9937ms
2023-09-01 23:31:21.391 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 23:31:21.392 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:31:21.393 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 2.1619ms
2023-09-01 23:31:21.397 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 23:31:21.398 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:31:21.398 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:31:21.399 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:31:21.451 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 23:31:21.454 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 23:31:21.455 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 55.3385ms
2023-09-01 23:31:21.455 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 23:31:21.456 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:31:21.458 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 878 application/json;+charset=utf-8 61.2093ms
2023-09-01 23:31:21.480 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 23:31:21.482 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:31:21.482 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:31:21.484 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:31:21.485 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 4.1069ms
2023-09-01 23:31:21.486 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.2760ms
2023-09-01 23:31:21.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 23:31:21.490 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:31:21.491 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:31:21.497 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:31:21.498 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:31:21.500 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:31:21.503 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:31:21.505 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:31:21.508 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:31:21.510 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:31:21.514 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 7.0357ms
2023-09-01 23:31:21.520 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 9.8631ms
2023-09-01 23:31:21.522 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:31:21.524 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:31:21.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 36.6486ms
2023-09-01 23:31:21.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 35.7502ms
2023-09-01 23:31:22.759 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:31:22.762 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:31:22.764 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:31:22.765 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:31:22.766 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:31:22.767 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.1228ms
2023-09-01 23:31:22.768 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:31:22.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 10.4820ms
2023-09-01 23:50:36.780 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 23:50:36.785 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:50:36.786 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 6.5487ms
2023-09-01 23:50:36.795 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 23:50:36.795 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:50:36.796 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:50:36.796 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:50:36.878 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 23:50:36.884 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 23:50:36.886 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 23:50:36.886 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 88.5404ms
2023-09-01 23:50:36.889 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:50:36.889 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 94.7411ms
2023-09-01 23:50:36.906 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 23:50:36.907 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:50:36.907 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:50:36.909 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 3.0980ms
2023-09-01 23:50:36.910 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:50:36.911 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 23:50:36.912 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.9120ms
2023-09-01 23:50:36.913 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:50:36.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:50:36.917 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:50:36.922 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:50:36.924 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:50:36.925 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:50:36.928 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:50:36.929 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:50:36.932 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 4.018ms
2023-09-01 23:50:36.934 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:50:36.934 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:50:36.935 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.6085ms
2023-09-01 23:50:36.936 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 24.7247ms
2023-09-01 23:50:36.937 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:50:36.940 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 25.0312ms
2023-09-01 23:50:38.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:50:38.380 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:50:38.382 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:50:38.383 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:50:38.384 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:50:38.385 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.9058ms
2023-09-01 23:50:38.385 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:50:38.386 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.6212ms
2023-09-01 23:51:58.366 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 23:51:58.373 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:51:58.374 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 8.2914ms
2023-09-01 23:51:58.375 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 23:51:58.376 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:51:58.377 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:51:58.378 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:51:58.384 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 23:51:58.388 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 23:51:58.389 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 9.0305ms
2023-09-01 23:51:58.389 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 23:51:58.390 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:51:58.393 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 17.8055ms
2023-09-01 23:51:58.416 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 23:51:58.416 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:51:58.417 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:51:58.420 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:51:58.421 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 5.3718ms
2023-09-01 23:51:58.425 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 8.9173ms
2023-09-01 23:51:58.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 23:51:58.439 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:51:58.440 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:51:58.442 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:51:58.443 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:51:58.445 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:51:58.446 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:51:58.448 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:51:58.452 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:51:58.454 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:51:58.455 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.9545ms
2023-09-01 23:51:58.456 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.1783ms
2023-09-01 23:51:58.457 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:51:58.458 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:51:58.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 30.9233ms
2023-09-01 23:51:58.460 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 21.3244ms
2023-09-01 23:51:59.934 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:51:59.938 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:51:59.939 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:51:59.940 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:51:59.941 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:51:59.942 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.9703ms
2023-09-01 23:51:59.943 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:51:59.945 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 11.3740ms
2023-09-01 23:52:24.455 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams - -
2023-09-01 23:52:24.457 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:52:24.458 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams - - - 204 - - 2.6931ms
2023-09-01 23:52:24.462 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/sailingExams application/json 147
2023-09-01 23:52:24.463 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:52:24.465 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.CreateNewSailingExam (PuntoVitaExams.API)'
2023-09-01 23:52:24.468 +02:00 [INF] Route matched with {action = "CreateNewSailingExam", controller = "SailingExams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PuntoVitaExams.API.Models.SailingExamForCreationDto]] CreateNewSailingExam(PuntoVitaExams.API.Models.SailingExamForCreationDto) on controller PuntoVitaExams.API.Controllers.SailingExamsController (PuntoVitaExams.API).
2023-09-01 23:52:24.589 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExams] ([ExaminationCommitteeId], [SailingExamDate], [SailingExamNumber], [SailingExamPlace])
OUTPUT INSERTED.[SailingExamId]
VALUES (@p0, @p1, @p2, @p3);
2023-09-01 23:57:43.212 +02:00 [INF] User profile is available. Using 'C:\Users\Kazimierz Stasiski\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-09-01 23:57:43.555 +02:00 [INF] Now listening on: https://localhost:7169
2023-09-01 23:57:43.555 +02:00 [INF] Now listening on: http://localhost:5080
2023-09-01 23:57:43.559 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-09-01 23:57:43.560 +02:00 [INF] Hosting environment: Development
2023-09-01 23:57:43.561 +02:00 [INF] Content root path: C:\Users\Kazimierz Stasiski\source\repos\PuntoVitaExams\PuntoVitaExams.API\
2023-09-01 23:57:54.472 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-09-01 23:57:54.533 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:57:54.546 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 77.5276ms
2023-09-01 23:57:54.551 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-09-01 23:57:54.592 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:57:54.866 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:57:54.897 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:57:57.260 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-09-01 23:57:57.551 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-09-01 23:57:57.570 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-09-01 23:57:57.629 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 2721.103ms
2023-09-01 23:57:57.634 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-09-01 23:57:57.664 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 3112.6670ms
2023-09-01 23:57:57.698 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:57:57.699 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-09-01 23:57:57.711 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:57:57.711 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:57:57.712 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 14.0823ms
2023-09-01 23:57:57.713 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 14.1921ms
2023-09-01 23:57:57.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:57:57.725 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-09-01 23:57:57.744 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:57:57.744 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:57:57.774 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:57:57.774 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:57:57.776 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:57:57.776 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:57:57.779 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:57:57.781 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 3.2849ms
2023-09-01 23:57:57.781 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:57:57.781 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:57:57.782 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 3.8174ms
2023-09-01 23:57:57.783 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 59.1760ms
2023-09-01 23:57:57.784 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-09-01 23:57:57.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 61.5455ms
2023-09-01 23:58:01.723 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-09-01 23:58:01.725 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:58:01.731 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:58:01.733 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-09-01 23:58:01.736 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-09-01 23:58:01.738 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.8437ms
2023-09-01 23:58:01.739 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-09-01 23:58:01.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 16.8513ms
2023-09-01 23:58:27.809 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams - -
2023-09-01 23:58:27.812 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:58:27.815 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams - - - 204 - - 6.9560ms
2023-09-01 23:58:27.821 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/sailingExams application/json 147
2023-09-01 23:58:27.822 +02:00 [INF] CORS policy execution successful.
2023-09-01 23:58:27.823 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.CreateNewSailingExam (PuntoVitaExams.API)'
2023-09-01 23:58:27.827 +02:00 [INF] Route matched with {action = "CreateNewSailingExam", controller = "SailingExams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PuntoVitaExams.API.Models.SailingExamForCreationDto]] CreateNewSailingExam(PuntoVitaExams.API.Models.SailingExamForCreationDto) on controller PuntoVitaExams.API.Controllers.SailingExamsController (PuntoVitaExams.API).
2023-09-01 23:58:27.936 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SailingExams] ([ExaminationCommitteeId], [SailingExamDate], [SailingExamNumber], [SailingExamPlace])
OUTPUT INSERTED.[SailingExamId]
VALUES (@p0, @p1, @p2, @p3);
