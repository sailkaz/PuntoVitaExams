2023-08-14 09:12:47.094 +02:00 [INF] User profile is available. Using 'C:\Users\Kazimierz Stasiński\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-14 09:12:47.742 +02:00 [INF] Now listening on: https://localhost:7169
2023-08-14 09:12:47.744 +02:00 [INF] Now listening on: http://localhost:5080
2023-08-14 09:12:47.751 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-14 09:12:47.753 +02:00 [INF] Hosting environment: Development
2023-08-14 09:12:47.754 +02:00 [INF] Content root path: C:\Users\Kazimierz Stasiński\source\repos\PuntoVitaExams\PuntoVitaExams.API\
2023-08-14 09:13:14.300 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-08-14 09:13:14.378 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:13:14.396 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 94.6729ms
2023-08-14 09:13:14.400 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-08-14 09:13:14.425 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:13:14.540 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-08-14 09:13:14.576 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:13:18.719 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-08-14 09:13:19.137 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-08-14 09:13:19.157 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-08-14 09:13:19.226 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 4641.1659ms
2023-08-14 09:13:19.231 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-08-14 09:13:19.274 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 878 application/json;+charset=utf-8 4873.2564ms
2023-08-14 09:13:19.286 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:13:19.286 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-08-14 09:13:19.314 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:13:19.314 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:13:19.316 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 29.6232ms
2023-08-14 09:13:19.317 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 30.9610ms
2023-08-14 09:13:19.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-08-14 09:13:19.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:13:19.347 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:13:19.347 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:13:19.466 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:13:19.466 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:13:19.470 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:13:19.471 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:13:19.474 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:13:19.476 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 4.193ms
2023-08-14 09:13:19.477 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:13:19.477 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:13:19.479 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 4.056ms
2023-08-14 09:13:19.480 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 156.5782ms
2023-08-14 09:13:19.481 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:13:19.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 159.2673ms
2023-08-14 09:13:24.719 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:13:24.722 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:13:24.724 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.5202ms
2023-08-14 09:13:24.726 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:13:24.729 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:13:24.733 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:13:24.736 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:13:24.738 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:13:24.740 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.7925ms
2023-08-14 09:13:24.741 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:13:24.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 15.5385ms
2023-08-14 09:14:17.779 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/632568743 - -
2023-08-14 09:14:17.782 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:14:17.783 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/632568743 - - - 204 - - 4.8070ms
2023-08-14 09:14:17.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/632568743 - -
2023-08-14 09:14:17.841 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:14:17.842 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentWithAddrressAndExams (PuntoVitaExams.API)'
2023-08-14 09:14:17.846 +02:00 [INF] Route matched with {action = "GetStudentWithAddrressAndExams", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentWithAddrressAndExams(System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-08-14 09:14:17.908 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Students] AS [s]
        WHERE [s].[Pesel] = @__pesel_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-08-14 09:14:18.039 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__pesel_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[StudentId], [t].[AddressId], [t].[FirstName], [t].[LastName], [t].[Pesel], [t].[Result], [t].[AddressId0], [t].[City], [t].[FlatNumber], [t].[PostalCode], [t].[Street], [t].[StreetNumber], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[SailingExamId], [t0].[ExaminationCommitteeId], [t0].[SailingExamDate], [t0].[SailingExamNumber], [t0].[SailingExamPlace]
FROM (
    SELECT TOP(1) [s].[StudentId], [s].[AddressId], [s].[FirstName], [s].[LastName], [s].[Pesel], [s].[Result], [a].[AddressId] AS [AddressId0], [a].[City], [a].[FlatNumber], [a].[PostalCode], [a].[Street], [a].[StreetNumber]
    FROM [Students] AS [s]
    LEFT JOIN [Addressess] AS [a] ON [s].[AddressId] = [a].[AddressId]
    WHERE [s].[Pesel] = @__pesel_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[SailingExamId], [s1].[ExaminationCommitteeId], [s1].[SailingExamDate], [s1].[SailingExamNumber], [s1].[SailingExamPlace]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [SailingExams] AS [s1] ON [s0].[SailingExamsSailingExamId] = [s1].[SailingExamId]
) AS [t0] ON [t].[StudentId] = [t0].[StudentsStudentId]
ORDER BY [t].[StudentId], [t].[AddressId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId]
2023-08-14 09:14:18.132 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.StudentDto'.
2023-08-14 09:14:18.147 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.GetStudentWithAddrressAndExams (PuntoVitaExams.API) in 300.4866ms
2023-08-14 09:14:18.150 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentWithAddrressAndExams (PuntoVitaExams.API)'
2023-08-14 09:14:18.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/632568743 - - - 200 369 application/json;+charset=utf-8 317.1432ms
2023-08-14 09:14:46.922 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-08-14 09:14:46.925 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:14:46.925 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/sailingExams/PV-2-22 - - - 204 - - 3.5448ms
2023-08-14 09:14:46.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - -
2023-08-14 09:14:46.966 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:14:46.968 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-08-14 09:14:46.971 +02:00 [INF] Route matched with {action = "GetExamWithStudentsAndCommittee", controller = "SailingExams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamWithStudentsAndCommittee(System.String) on controller PuntoVitaExams.API.Controllers.SailingExamsController (PuntoVitaExams.API).
2023-08-14 09:14:47.026 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SailingExams] AS [s]
        WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-08-14 09:14:47.054 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2023-08-14 09:14:47.076 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__sailingExamNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SailingExamId], [t].[ExaminationCommitteeId], [t].[SailingExamDate], [t].[SailingExamNumber], [t].[SailingExamPlace], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t0].[AddressId], [t0].[FirstName], [t0].[LastName], [t0].[Pesel], [t0].[Result], [t].[ExaminationCommitteeHeadId], [t].[ExaminationCommitteeSecretaryId], [t].[ExaminationCommitteeHeadFirstName], [t].[ExaminationCommitteeHeadLastName], [t].[ExaminationCommitteeSecretaryFirstName], [t].[ExaminationCommitteeSecretaryLastName], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId], [t1].[ExaminationCommitteeMemberId], [t1].[ExaminationCommitteeMemberFirstName], [t1].[ExaminationCommitteeMemberLastName]
FROM (
    SELECT TOP(1) [s].[SailingExamId], [s].[ExaminationCommitteeId], [s].[SailingExamDate], [s].[SailingExamNumber], [s].[SailingExamPlace], [e].[ExaminationCommitteeId] AS [ExaminationCommitteeId0], [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeSecretaryId], [e0].[ExaminationCommitteeHeadId] AS [ExaminationCommitteeHeadId0], [e0].[ExaminationCommitteeHeadFirstName], [e0].[ExaminationCommitteeHeadLastName], [e1].[ExaminationCommitteeSecretaryId] AS [ExaminationCommitteeSecretaryId0], [e1].[ExaminationCommitteeSecretaryFirstName], [e1].[ExaminationCommitteeSecretaryLastName]
    FROM [SailingExams] AS [s]
    LEFT JOIN [ExaminationCommittees] AS [e] ON [s].[ExaminationCommitteeId] = [e].[ExaminationCommitteeId]
    LEFT JOIN [ExaminationCommitteeHeads] AS [e0] ON [e].[ExaminationCommitteeHeadId] = [e0].[ExaminationCommitteeHeadId]
    LEFT JOIN [ExaminationCommitteeSecretaries] AS [e1] ON [e].[ExaminationCommitteeSecretaryId] = [e1].[ExaminationCommitteeSecretaryId]
    WHERE [s].[SailingExamNumber] = @__sailingExamNumber_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SailingExamsSailingExamId], [s0].[StudentsStudentId], [s1].[StudentId], [s1].[AddressId], [s1].[FirstName], [s1].[LastName], [s1].[Pesel], [s1].[Result]
    FROM [SailingExamStudent] AS [s0]
    INNER JOIN [Students] AS [s1] ON [s0].[StudentsStudentId] = [s1].[StudentId]
) AS [t0] ON [t].[SailingExamId] = [t0].[SailingExamsSailingExamId]
LEFT JOIN (
    SELECT [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [e2].[ExaminationCommitteesExaminationCommitteeId], [e3].[ExaminationCommitteeMemberId], [e3].[ExaminationCommitteeMemberFirstName], [e3].[ExaminationCommitteeMemberLastName]
    FROM [ExaminationCommitteeExaminationCommitteeMember] AS [e2]
    INNER JOIN [ExaminationCommitteeMembers] AS [e3] ON [e2].[ExaminationCommitteeMembersExaminationCommitteeMemberId] = [e3].[ExaminationCommitteeMemberId]
) AS [t1] ON [t].[ExaminationCommitteeId0] = [t1].[ExaminationCommitteesExaminationCommitteeId]
ORDER BY [t].[SailingExamId], [t].[ExaminationCommitteeId0], [t].[ExaminationCommitteeHeadId0], [t].[ExaminationCommitteeSecretaryId0], [t0].[SailingExamsSailingExamId], [t0].[StudentsStudentId], [t0].[StudentId], [t1].[ExaminationCommitteeMembersExaminationCommitteeMemberId], [t1].[ExaminationCommitteesExaminationCommitteeId]
2023-08-14 09:14:47.122 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.SailingExamDto'.
2023-08-14 09:14:47.146 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API) in 173.7293ms
2023-08-14 09:14:47.151 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.SailingExamsController.GetExamWithStudentsAndCommittee (PuntoVitaExams.API)'
2023-08-14 09:14:47.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/sailingExams/PV-2-22 - - - 200 1197 application/json;+charset=utf-8 188.2181ms
2023-08-14 09:15:13.116 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-08-14 09:15:13.119 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:15:13.120 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 204 - - 4.0603ms
2023-08-14 09:15:13.175 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - -
2023-08-14 09:15:13.178 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:15:13.180 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-08-14 09:15:13.183 +02:00 [INF] Route matched with {action = "GetStudentsWhoPassedTheExam", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetStudentsWhoPassedTheExam(System.String, System.String) on controller PuntoVitaExams.API.Controllers.StudentsController (PuntoVitaExams.API).
2023-08-14 09:15:13.200 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__examResult_0='?' (Size = 4000), @__examNumber_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[City], [s].[FirstName], [s].[FlatNumber], [s].[LastName], [s].[Pesel], [s].[PostalCode], [s].[Result], [s].[SailingExamNumber], [s].[Street], [s].[StreetNumber]
FROM [StudentsWhoPassedTheExam] AS [s]
WHERE [s].[Result] = @__examResult_0 AND [s].[SailingExamNumber] = @__examNumber_1
2023-08-14 09:15:13.210 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.StudentsWhoPassedTheExamDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-14 09:15:13.214 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API) in 29.6476ms
2023-08-14 09:15:13.215 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.StudentsController.GetStudentsWhoPassedTheExam (PuntoVitaExams.API)'
2023-08-14 09:15:13.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/students/Pozytywny/PV-2-22 - - - 200 419 application/json;+charset=utf-8 40.7165ms
2023-08-14 09:15:23.412 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:15:23.412 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-08-14 09:15:23.413 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:15:23.415 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:15:23.417 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.6836ms
2023-08-14 09:15:23.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:15:23.419 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 7.0656ms
2023-08-14 09:15:23.426 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-08-14 09:15:23.430 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:15:23.431 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:15:23.431 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:15:23.432 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:15:23.432 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:15:23.433 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:15:23.434 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:15:23.435 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:15:23.436 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.288ms
2023-08-14 09:15:23.437 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.9378ms
2023-08-14 09:15:23.438 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:15:23.439 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:15:23.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 18.6217ms
2023-08-14 09:15:23.440 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 14.5275ms
2023-08-14 09:15:26.075 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:15:26.079 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:15:26.083 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:15:26.084 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:15:26.085 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:15:26.085 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.8591ms
2023-08-14 09:15:26.086 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:15:26.087 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 11.9003ms
2023-08-14 09:22:48.081 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/committeeHeadWithExams?lastName=Grabska - -
2023-08-14 09:22:48.090 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:48.091 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/committeeHeadWithExams?lastName=Grabska - - - 204 - - 12.3290ms
2023-08-14 09:22:48.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/committeeHeadWithExams?lastName=Grabska - -
2023-08-14 09:22:48.154 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:48.156 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-08-14 09:22:48.162 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-14 09:22:48.164 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/committeeHeadWithExams?lastName=Grabska - - - 401 0 - 11.8566ms
2023-08-14 09:22:52.051 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-08-14 09:22:52.054 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:52.056 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 5.3173ms
2023-08-14 09:22:52.057 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-08-14 09:22:52.058 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:52.058 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-08-14 09:22:52.059 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:22:52.131 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-08-14 09:22:52.139 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-08-14 09:22:52.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-08-14 09:22:52.141 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 80.5466ms
2023-08-14 09:22:52.153 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-08-14 09:22:52.154 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 97.1747ms
2023-08-14 09:22:52.167 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-08-14 09:22:52.183 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:52.184 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:22:52.185 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 17.8726ms
2023-08-14 09:22:52.186 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:52.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-08-14 09:22:52.189 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 5.8813ms
2023-08-14 09:22:52.191 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:52.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:22:52.194 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:22:52.194 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:52.196 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:22:52.197 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:22:52.200 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:22:52.201 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:22:52.203 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 2.6903ms
2023-08-14 09:22:52.206 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:22:52.208 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:22:52.211 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 5.2416ms
2023-08-14 09:22:52.212 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 24.3363ms
2023-08-14 09:22:52.213 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:22:52.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 23.0817ms
2023-08-14 09:22:53.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:22:53.288 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:22:53.290 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:22:53.294 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:22:53.300 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:22:53.301 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.6198ms
2023-08-14 09:22:53.304 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:22:53.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 20.7092ms
2023-08-14 09:23:02.077 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/committeeHeadWithExams?lastName=Grabska - -
2023-08-14 09:23:02.080 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:23:02.081 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/committeeHeadWithExams?lastName=Grabska - - - 204 - - 4.4079ms
2023-08-14 09:23:02.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/committeeHeadWithExams?lastName=Grabska - -
2023-08-14 09:23:02.116 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:23:02.121 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetCommitteeHeadWithExams (PuntoVitaExams.API)'
2023-08-14 09:23:02.124 +02:00 [INF] Route matched with {action = "GetCommitteeHeadWithExams", controller = "ExaminationCommitteeHeads"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PuntoVitaExams.API.Models.HeadByExamsDto]]] GetCommitteeHeadWithExams(System.String) on controller PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController (PuntoVitaExams.API).
2023-08-14 09:23:02.138 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lastName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeHeadFirstName], [e].[ExaminationCommitteeHeadLastName]
FROM [ExaminationCommitteeHeads] AS [e]
WHERE [e].[ExaminationCommitteeHeadLastName] = @__lastName_0
2023-08-14 09:23:02.147 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__lastName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[ExaminationCommitteeHeadFirstName], [h].[ExaminationCommitteeHeadLastName], [h].[SailingExamDate], [h].[SailingExamNumber], [h].[SailingExamPlace]
FROM [HeadByExams] AS [h]
WHERE [h].[ExaminationCommitteeHeadLastName] = @__lastName_0
2023-08-14 09:23:02.153 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.HeadByExamsDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-14 09:23:02.157 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetCommitteeHeadWithExams (PuntoVitaExams.API) in 31.6477ms
2023-08-14 09:23:02.160 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetCommitteeHeadWithExams (PuntoVitaExams.API)'
2023-08-14 09:23:02.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/committeeHeadWithExams?lastName=Grabska - - - 200 809 application/json;+charset=utf-8 48.1118ms
2023-08-14 09:25:07.385 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-08-14 09:25:07.388 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:07.390 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 4.5534ms
2023-08-14 09:25:07.391 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-08-14 09:25:07.392 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:07.393 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-08-14 09:25:07.393 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:25:07.397 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-08-14 09:25:07.400 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-08-14 09:25:07.403 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 8.3231ms
2023-08-14 09:25:07.404 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-08-14 09:25:07.418 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-08-14 09:25:07.435 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:07.459 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:25:07.471 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 79.4905ms
2023-08-14 09:25:07.475 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 56.4748ms
2023-08-14 09:25:07.476 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:07.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-08-14 09:25:07.482 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 45.3651ms
2023-08-14 09:25:07.484 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:07.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:25:07.488 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:25:07.488 +02:00 [ERR] Failed executing DbCommand (83ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-08-14 09:25:07.489 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:07.491 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:25:07.493 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:25:07.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:25:07.495 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:25:07.495 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.9216ms
2023-08-14 09:25:07.499 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:25:07.500 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:25:07.501 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 2.7985ms
2023-08-14 09:25:07.502 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 21.3628ms
2023-08-14 09:25:07.503 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:25:07.505 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 19.4259ms
2023-08-14 09:25:09.405 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:25:09.408 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:09.409 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:25:09.410 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:25:09.411 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:25:09.412 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 0.8686ms
2023-08-14 09:25:09.413 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:25:09.413 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 8.9591ms
2023-08-14 09:25:18.605 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/Grabska - -
2023-08-14 09:25:18.607 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:18.613 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/Grabska - - - 204 - - 8.0250ms
2023-08-14 09:25:18.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/Grabska - -
2023-08-14 09:25:18.619 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:25:18.620 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHead (PuntoVitaExams.API)'
2023-08-14 09:25:18.624 +02:00 [INF] Route matched with {action = "GetExaminationCommitteeHead", controller = "ExaminationCommitteeHeads"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetExaminationCommitteeHead(System.String) on controller PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController (PuntoVitaExams.API).
2023-08-14 09:25:18.641 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__lastName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeHeadFirstName], [e].[ExaminationCommitteeHeadLastName]
FROM [ExaminationCommitteeHeads] AS [e]
WHERE [e].[ExaminationCommitteeHeadLastName] = @__lastName_0
2023-08-14 09:25:18.645 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.ExaminationCommitteeHeadDto'.
2023-08-14 09:25:18.647 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHead (PuntoVitaExams.API) in 20.4827ms
2023-08-14 09:25:18.649 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHead (PuntoVitaExams.API)'
2023-08-14 09:25:18.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/Grabska - - - 200 93 application/json;+charset=utf-8 34.7990ms
2023-08-14 09:29:02.714 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/login - -
2023-08-14 09:29:02.726 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:02.729 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/login - - - 204 - - 14.4481ms
2023-08-14 09:29:02.735 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/login application/json 54
2023-08-14 09:29:02.736 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:02.736 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-08-14 09:29:02.737 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(PuntoVitaExams.API.Models.LoginDto) on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:29:02.741 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[RefreshToken], [u].[RoleId], [u].[TokenCreated], [u].[TokenExpires], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Email] = @__dto_Email_0
2023-08-14 09:29:02.746 +02:00 [INF] Executing OkObjectResult, writing value of type 'PuntoVitaExams.API.Models.LoginResponseDto'.
2023-08-14 09:29:02.747 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API) in 9.4098ms
2023-08-14 09:29:02.748 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.Login (PuntoVitaExams.API)'
2023-08-14 09:29:02.749 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/login application/json 54 - 200 879 application/json;+charset=utf-8 14.3144ms
2023-08-14 09:29:02.750 +02:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [TokenCreated] = @p1, [TokenExpires] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2023-08-14 09:29:02.817 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logged - -
2023-08-14 09:29:02.817 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:29:02.819 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:02.820 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:02.820 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logged - - - 204 - - 3.5007ms
2023-08-14 09:29:02.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/logged - -
2023-08-14 09:29:02.821 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/loggedRole - - - 204 - - 4.1061ms
2023-08-14 09:29:02.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:29:02.838 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:02.842 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:02.842 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:29:02.843 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:29:02.843 +02:00 [INF] Route matched with {action = "GetMe", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetMe() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:29:02.844 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:29:02.845 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:29:02.846 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:29:02.847 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API) in 1.9383ms
2023-08-14 09:29:02.848 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.8216ms
2023-08-14 09:29:02.849 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetMe (PuntoVitaExams.API)'
2023-08-14 09:29:02.849 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:29:02.850 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/logged - - - 200 - text/plain;+charset=utf-8 26.6718ms
2023-08-14 09:29:02.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 15.1315ms
2023-08-14 09:29:04.277 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/account/loggedRole - -
2023-08-14 09:29:04.281 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:04.282 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:29:04.283 +02:00 [INF] Route matched with {action = "GetRole", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:29:04.284 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-14 09:29:04.285 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API) in 1.061ms
2023-08-14 09:29:04.285 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.GetRole (PuntoVitaExams.API)'
2023-08-14 09:29:04.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/account/loggedRole - - - 200 - text/plain;+charset=utf-8 9.4004ms
2023-08-14 09:29:08.784 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/ - -
2023-08-14 09:29:08.787 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:08.789 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/examinationCommitteeHead/ - - - 204 - - 5.5428ms
2023-08-14 09:29:08.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/ - -
2023-08-14 09:29:08.793 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:29:08.794 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHeads (PuntoVitaExams.API)'
2023-08-14 09:29:08.796 +02:00 [INF] Route matched with {action = "GetExaminationCommitteeHeads", controller = "ExaminationCommitteeHeads"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PuntoVitaExams.API.Models.ExaminationCommitteeHeadDto]]] GetExaminationCommitteeHeads() on controller PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController (PuntoVitaExams.API).
2023-08-14 09:29:08.817 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExaminationCommitteeHeadId], [e].[ExaminationCommitteeHeadFirstName], [e].[ExaminationCommitteeHeadLastName]
FROM [ExaminationCommitteeHeads] AS [e]
ORDER BY [e].[ExaminationCommitteeHeadLastName]
2023-08-14 09:29:08.824 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PuntoVitaExams.API.Models.ExaminationCommitteeHeadDto, PuntoVitaExams.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-14 09:29:08.826 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHeads (PuntoVitaExams.API) in 28.8832ms
2023-08-14 09:29:08.827 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.ExaminationCommitteeHeadsController.GetExaminationCommitteeHeads (PuntoVitaExams.API)'
2023-08-14 09:29:08.828 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7169/api/examinationCommitteeHead/ - - - 200 478 application/json;+charset=utf-8 36.7215ms
2023-08-14 09:37:44.076 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7169/api/account/logout - -
2023-08-14 09:37:44.085 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:37:44.087 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7169/api/account/logout - - - 204 - - 10.9970ms
2023-08-14 09:37:44.089 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7169/api/account/logout application/json 2
2023-08-14 09:37:44.089 +02:00 [INF] CORS policy execution successful.
2023-08-14 09:37:44.090 +02:00 [INF] Executing endpoint 'PuntoVitaExams.API.Controllers.AccountController.LogOut (PuntoVitaExams.API)'
2023-08-14 09:37:44.092 +02:00 [INF] Route matched with {action = "LogOut", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogOut() on controller PuntoVitaExams.API.Controllers.AccountController (PuntoVitaExams.API).
2023-08-14 09:37:44.100 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-08-14 09:37:44.101 +02:00 [INF] Executed action PuntoVitaExams.API.Controllers.AccountController.LogOut (PuntoVitaExams.API) in 7.1398ms
2023-08-14 09:37:44.101 +02:00 [INF] Executed endpoint 'PuntoVitaExams.API.Controllers.AccountController.LogOut (PuntoVitaExams.API)'
2023-08-14 09:37:44.102 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7169/api/account/logout application/json 2 - 204 - - 13.5662ms
